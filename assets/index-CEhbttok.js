(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var wd={exports:{}},pl={};var D_;function DA(){if(D_)return pl;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var x_;function xA(){return x_||(x_=1,wd.exports=DA()),wd.exports}var M=xA(),Rd={exports:{}},Tt={};var O_;function OA(){if(O_)return Tt;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function ut(D,K,nt){this.props=D,this.context=K,this.refs=W,this.updater=nt||Z}ut.prototype.isReactComponent={},ut.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},ut.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function dt(){}dt.prototype=ut.prototype;function ct(D,K,nt){this.props=D,this.context=K,this.refs=W,this.updater=nt||Z}var Et=ct.prototype=new dt;Et.constructor=ct,et(Et,ut.prototype),Et.isPureReactComponent=!0;var qt=Array.isArray;function St(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(D,K,nt){var st=nt.ref;return{$$typeof:s,type:D,key:K,ref:st!==void 0?st:null,props:nt}}function O(D,K){return w(D.type,K,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function U(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function Wt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):K.toString(36)}function ue(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(St,St):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,nt,st,mt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var Lt=!1;if(D===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(D.$$typeof){case s:case t:Lt=!0;break;case A:return Lt=D._init,F(Lt(D._payload),K,nt,st,mt)}}if(Lt)return mt=mt(D),Lt=st===""?"."+Wt(D,0):st,qt(mt)?(nt="",Lt!=null&&(nt=Lt.replace(R,"$&/")+"/"),F(mt,K,nt,"",function(er){return er})):mt!=null&&(N(mt)&&(mt=O(mt,nt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+Lt)),K.push(mt)),1;Lt=0;var De=st===""?".":st+":";if(qt(D))for(var ae=0;ae<D.length;ae++)st=D[ae],Rt=De+Wt(st,ae),Lt+=F(st,K,nt,Rt,mt);else if(ae=H(D),typeof ae=="function")for(D=ae.call(D),ae=0;!(st=D.next()).done;)st=st.value,Rt=De+Wt(st,ae++),Lt+=F(st,K,nt,Rt,mt);else if(Rt==="object"){if(typeof D.then=="function")return F(ue(D),K,nt,st,mt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function Q(D,K,nt){if(D==null)return D;var st=[],mt=0;return F(D,st,"","",function(Rt){return K.call(nt,Rt,mt++)}),st}function it(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var _t=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ct={map:Q,forEach:function(D,K,nt){Q(D,function(){K.apply(this,arguments)},nt)},count:function(D){var K=0;return Q(D,function(){K++}),K},toArray:function(D){return Q(D,function(K){return K})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Tt.Activity=S,Tt.Children=Ct,Tt.Component=ut,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=ct,Tt.StrictMode=a,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(D,K,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=et({},D.props),mt=D.key;if(K!=null)for(Rt in K.key!==void 0&&(mt=""+K.key),K)!b.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(st[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var Lt=Array(Rt),De=0;De<Rt;De++)Lt[De]=arguments[De+2];st.children=Lt}return w(D.type,mt,st)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Tt.createElement=function(D,K,nt){var st,mt={},Rt=null;if(K!=null)for(st in K.key!==void 0&&(Rt=""+K.key),K)b.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(mt[st]=K[st]);var Lt=arguments.length-2;if(Lt===1)mt.children=nt;else if(1<Lt){for(var De=Array(Lt),ae=0;ae<Lt;ae++)De[ae]=arguments[ae+2];mt.children=De}if(D&&D.defaultProps)for(st in Lt=D.defaultProps,Lt)mt[st]===void 0&&(mt[st]=Lt[st]);return w(D,Rt,mt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:p,render:D}},Tt.isValidElement=N,Tt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:it}},Tt.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},Tt.startTransition=function(D){var K=C.T,nt={};C.T=nt;try{var st=D(),mt=C.S;mt!==null&&mt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(St,_t)}catch(Rt){_t(Rt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(D){return C.H.use(D)},Tt.useActionState=function(D,K,nt){return C.H.useActionState(D,K,nt)},Tt.useCallback=function(D,K){return C.H.useCallback(D,K)},Tt.useContext=function(D){return C.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},Tt.useEffect=function(D,K){return C.H.useEffect(D,K)},Tt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(D,K,nt){return C.H.useImperativeHandle(D,K,nt)},Tt.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},Tt.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},Tt.useMemo=function(D,K){return C.H.useMemo(D,K)},Tt.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},Tt.useReducer=function(D,K,nt){return C.H.useReducer(D,K,nt)},Tt.useRef=function(D){return C.H.useRef(D)},Tt.useState=function(D){return C.H.useState(D)},Tt.useSyncExternalStore=function(D,K,nt){return C.H.useSyncExternalStore(D,K,nt)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var M_;function _m(){return M_||(M_=1,Rd.exports=OA()),Rd.exports}var Bt=_m(),Id={exports:{}},gl={},Cd={exports:{}},Nd={};var V_;function MA(){return V_||(V_=1,(function(s){function t(F,Q){var it=F.length;F.push(Q);t:for(;0<it;){var _t=it-1>>>1,Ct=F[_t];if(0<l(Ct,Q))F[_t]=Q,F[it]=Ct,it=_t;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var Q=F[0],it=F.pop();if(it!==Q){F[0]=it;t:for(var _t=0,Ct=F.length,D=Ct>>>1;_t<D;){var K=2*(_t+1)-1,nt=F[K],st=K+1,mt=F[st];if(0>l(nt,it))st<Ct&&0>l(mt,nt)?(F[_t]=mt,F[st]=it,_t=st):(F[_t]=nt,F[K]=it,_t=K);else if(st<Ct&&0>l(mt,it))F[_t]=mt,F[st]=it,_t=st;else break t}}return Q}function l(F,Q){var it=F.sortIndex-Q.sortIndex;return it!==0?it:F.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,H=!1,Z=!1,et=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Et(F){for(var Q=i(_);Q!==null;){if(Q.callback===null)a(_);else if(Q.startTime<=F)a(_),Q.sortIndex=Q.expirationTime,t(y,Q);else break;Q=i(_)}}function qt(F){if(et=!1,Et(F),!Z)if(i(y)!==null)Z=!0,St||(St=!0,U());else{var Q=i(_);Q!==null&&ue(qt,Q.startTime-F)}}var St=!1,C=-1,b=5,w=-1;function O(){return W?!0:!(s.unstable_now()-w<b)}function N(){if(W=!1,St){var F=s.unstable_now();w=F;var Q=!0;try{t:{Z=!1,et&&(et=!1,dt(C),C=-1),H=!0;var it=V;try{e:{for(Et(F),S=i(y);S!==null&&!(S.expirationTime>F&&O());){var _t=S.callback;if(typeof _t=="function"){S.callback=null,V=S.priorityLevel;var Ct=_t(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ct=="function"){S.callback=Ct,Et(F),Q=!0;break e}S===i(y)&&a(y),Et(F)}else a(y);S=i(y)}if(S!==null)Q=!0;else{var D=i(_);D!==null&&ue(qt,D.startTime-F),Q=!1}}break t}finally{S=null,V=it,H=!1}Q=void 0}}finally{Q?U():St=!1}}}var U;if(typeof ct=="function")U=function(){ct(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=N,U=function(){Wt.postMessage(null)}}else U=function(){ut(N,0)};function ue(F,Q){C=ut(function(){F(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(F){switch(V){case 1:case 2:case 3:var Q=3;break;default:Q=V}var it=V;V=Q;try{return F()}finally{V=it}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var it=V;V=F;try{return Q()}finally{V=it}},s.unstable_scheduleCallback=function(F,Q,it){var _t=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?_t+it:_t):it=_t,F){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=it+Ct,F={id:A++,callback:Q,priorityLevel:F,startTime:it,expirationTime:Ct,sortIndex:-1},it>_t?(F.sortIndex=it,t(_,F),i(y)===null&&F===i(_)&&(et?(dt(C),C=-1):et=!0,ue(qt,it-_t))):(F.sortIndex=Ct,t(y,F),Z||H||(Z=!0,St||(St=!0,U()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var Q=V;return function(){var it=V;V=Q;try{return F.apply(this,arguments)}finally{V=it}}}})(Nd)),Nd}var k_;function VA(){return k_||(k_=1,Cd.exports=MA()),Cd.exports}var Dd={exports:{}},Ye={};var U_;function kA(){if(U_)return Ye;U_=1;var s=_m();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:H}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Ye.requestFormReset=function(y){a.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var L_;function UA(){if(L_)return Dd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=kA(),Dd.exports}var P_;function LA(){if(P_)return gl;P_=1;var s=VA(),t=_m(),i=UA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case qt:return"Suspense";case St:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Et:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var ue=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},_t=[],Ct=-1;function D(e){return{current:e}}function K(e){0>Ct||(e.current=_t[Ct],_t[Ct]=null,Ct--)}function nt(e,n){Ct++,_t[Ct]=e.current,e.current=n}var st=D(null),mt=D(null),Rt=D(null),Lt=D(null);function De(e,n){switch(nt(Rt,n),nt(mt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function ae(){K(st),K(mt),K(Rt)}function er(e){e.memoizedState!==null&&nt(Lt,e);var n=st.current,r=t_(n,e.type);n!==r&&(nt(mt,e),nt(st,r))}function Yr(e){mt.current===e&&(K(st),K(mt)),Lt.current===e&&(K(Lt),hl._currentValue=it)}var Xr,$r;function Wn(e){if(Xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var co=!1;function nr(e,n){if(!e||co)return"";co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fo(e){try{var n="",r=null;do n+=ho(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Rh=s.unstable_shouldYield,Wl=s.unstable_requestPaint,tn=s.unstable_now,ir=s.unstable_getCurrentPriorityLevel,mo=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Ih=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,Ln=null,ze=null;function Tn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ln,e)}catch{}}var de=Math.clz32?Math.clz32:su,iu=Math.log,Jr=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/Jr|0)|0}var ti=256,sr=262144,ve=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function rr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-de(r),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ar(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function go(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function yo(e,n){var r=n&-n;return r=(r&42)!==0?1:or(r),(r&(e.suspendedLanes|n))!==0?0:r}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function zn(e,n){var r=Q.p;try{return Q.p=e,n()}finally{Q.p=r}}var jn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+jn,ke="__reactProps$"+jn,si="__reactContainer$"+jn,Zr="__reactEvents$"+jn,Dh="__reactListeners$"+jn,ou="__reactHandles$"+jn,lu="__reactResources$"+jn,ri="__reactMarker$"+jn;function Wr(e){delete e[Ee],delete e[ke],delete e[Zr],delete e[Dh],delete e[ou]}function ai(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[Ee])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function An(e){if(e=e[Ee]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ri]=!0}var _o=new Set,vo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function uu(e){return _e.call(Ao,e)?!0:_e.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function ta(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function dn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ae(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ur=/[\n"\\]/g;function sn(e){return e.replace(ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bo(e,g,Ue(n)):r!=null?bo(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function cu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function bo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function as(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function os(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ro(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Io=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function cr(e){var n=An(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&lr(o)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&as(e,!!r.multiple,n,!1)}}}var sa=!1;function cs(e,n,r){if(sa)return e(n,r);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(us!==null||hi!==null)&&(ac(),us&&(n=us,e=hi,hi=us=null,cr(n),e)))for(n=0;n<e.length;n++)cr(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ke]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hr=!1;if(bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{hr=!1}var fi=null,Co=null,fr=null;function No(){if(fr)return fr;var e,n=Co,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return fr=h.slice(e,1<o?1-o:void 0)}function dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Hn(){return!1}function je(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Oi),hs=S({},Oi,{view:0,detail:0}),Do=je(hs),fs,ra,mi,aa=S({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,ra=e.screenY-mi.screenY):ra=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),xo=je(aa),mr=S({},aa,{dataTransfer:0}),mu=je(mr),pu=S({},hs,{relatedTarget:0}),pr=je(pu),Oo=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=je(Oo),oa=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=je(oa),_u=S({},Oi,{data:0}),pi=je(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function ds(){return Au}var en=S({},hs,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=je(en),bu=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=je(bu),u=S({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),L=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),tt=S({},Oi,{newState:0,oldState:0}),bt=je(tt),me=[9,13,27,32],Ht=bn&&"CompositionEvent"in window,oe=null;bn&&"documentMode"in document&&(oe=document.documentMode);var wn=bn&&"TextEvent"in window&&!oe,gi=bn&&(!Ht||oe&&8<oe&&11>=oe),Fn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function t1(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function e1(e,n){if(ua)return e==="compositionend"||!Ht&&gr(e,n)?(e=No(),fr=Co=fi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!n1[e.type]:n==="textarea"}function hp(e,n,r,o){us?hi?hi.push(o):hi=[o]:us=o,n=dc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Mo=null,Vo=null;function i1(e){Ky(e,0)}function wu(e){var n=fn(e);if(lr(n))return e}function fp(e,n){if(e==="change")return n}var dp=!1;if(bn){var xh;if(bn){var Oh="oninput"in document;if(!Oh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Oh=typeof mp.oninput=="function"}xh=Oh}else xh=!1;dp=xh&&(!document.documentMode||9<document.documentMode)}function pp(){Mo&&(Mo.detachEvent("onpropertychange",gp),Vo=Mo=null)}function gp(e){if(e.propertyName==="value"&&wu(Vo)){var n=[];hp(n,Vo,e,Sn(e)),cs(i1,n)}}function s1(e,n,r){e==="focusin"?(pp(),Mo=n,Vo=r,Mo.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function r1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Vo)}function a1(e,n){if(e==="click")return wu(n)}function o1(e,n){if(e==="input"||e==="change")return wu(n)}function l1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:l1;function ko(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,n){var r=yp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=yp(r)}}function vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var u1=bn&&"documentMode"in document&&11>=document.documentMode,ca=null,Vh=null,Uo=null,kh=!1;function Tp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kh||ca==null||ca!==ci(o)||(o=ca,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&ko(Uo,o)||(Uo=o,o=dc(Vh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function yr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},Uh={},Ap={};bn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function _r(e){if(Uh[e])return Uh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ap)return Uh[e]=n[r];return e}var Sp=_r("animationend"),bp=_r("animationiteration"),wp=_r("animationstart"),c1=_r("transitionrun"),h1=_r("transitionstart"),f1=_r("transitioncancel"),Rp=_r("transitionend"),Ip=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Qn(e,n){Ip.set(e,n),li(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],fa=0,Ph=0;function Iu(){for(var e=fa,n=Ph=fa=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Cp(r,h,f)}}function Cu(e,n,r,o){Rn[fa++]=e,Rn[fa++]=n,Rn[fa++]=r,Rn[fa++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,r,o){return Cu(e,n,r,o),Nu(e)}function vr(e,n){return Cu(e,null,null,n),Nu(e)}function Cp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Nu(e){if(50<sl)throw sl=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function d1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new d1(e,n,r,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Np(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=_A(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=pn(31,r,n,h),e.elementType=w,e.lanes=f,e;case et:return Er(r.children,h,f,n);case W:g=8,h|=24;break;case ut:return e=pn(12,r,n,h|2),e.elementType=ut,e.lanes=f,e;case qt:return e=pn(13,r,n,h),e.elementType=qt,e.lanes=f,e;case St:return e=pn(19,r,n,h),e.elementType=St,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case dt:g=9;break t;case Et:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Er(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Bh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Dp(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function qh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xp=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=xp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fo(n)},xp.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var ma=[],pa=0,xu=null,Lo=0,Cn=[],Nn=0,ms=null,yi=1,_i="";function ki(e,n){ma[pa++]=Lo,ma[pa++]=xu,xu=e,Lo=n}function Op(e,n,r){Cn[Nn++]=yi,Cn[Nn++]=_i,Cn[Nn++]=ms,ms=e;var o=yi;e=_i;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-de(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function Hh(e){e.return!==null&&(ki(e,1),Op(e,1,0))}function Fh(e){for(;e===xu;)xu=ma[--pa],ma[pa]=null,Lo=ma[--pa],ma[pa]=null;for(;e===ms;)ms=Cn[--Nn],Cn[Nn]=null,_i=Cn[--Nn],Cn[Nn]=null,yi=Cn[--Nn],Cn[Nn]=null}function Mp(e,n){Cn[Nn++]=yi,Cn[Nn++]=_i,Cn[Nn++]=ms,yi=n.id,_i=n.overflow,ms=e}var Be=null,ne=null,Ut=!1,ps=null,Dn=!1,Gh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(In(n,e)),Gh}function Vp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<al.length;r++)Dt(al[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),os(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Jy(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(e,!0)}function kp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function ga(e){if(e!==Be)return!1;if(!Ut)return kp(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cd(e.type,e.memoizedProps)),r=!r),r&&ne&&gs(e),kp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=a_(e)}else n===27?(n=ne,Ds(e.type)?(e=pd,pd=null,ne=e):ne=n):ne=Be?On(e.stateNode.nextSibling):null;return!0}function Tr(){ne=Be=null,Ut=!1}function Qh(){var e=ps;return e!==null&&(un===null?un=e:un.push.apply(un,e),ps=null),e}function Po(e){ps===null?ps=[e]:ps.push(e)}var Kh=D(null),Ar=null,Ui=null;function ys(e,n,r){nt(Kh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=Kh.current,K(Kh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Xh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Yh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&Xh(n,e,r,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sr(e){Ar=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Up(Ar,e)}function Mu(e,n){return Ar===null&&Sr(e),Up(e,n)}function Up(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var m1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},p1=s.unstable_scheduleCallback,g1=s.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new m1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&p1(g1,function(){e.controller.abort()})}var jo=null,Jh=0,_a=0,va=null;function y1(e,n){if(jo===null){var r=jo=[];Jh=0,_a=ed(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Jh++,n.then(Lp,Lp),n}function Lp(){if(--Jh===0&&jo!==null){va!==null&&(va.status="fulfilled");var e=jo;jo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Pp=F.S;F.S=function(e,n){Ty=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&y1(e,n),Pp!==null&&Pp(e,n)};var br=D(null);function Zh(){var e=br.current;return e!==null?e:te.pooledCache}function Vu(e,n){n===null?nt(br,br.current):nt(br,n.pool)}function zp(){var e=Zh();return e===null?null:{parent:Se._currentValue,pool:e}}var Ea=Error(a(460)),Wh=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e}throw Rr=n,Ea}}function wr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rr=r,Ea):r}}var Rr=null;function qp(){if(Rr===null)throw Error(a(459));var e=Rr;return Rr=null,e}function Hp(e){if(e===Ea||e===ku)throw Error(a(483))}var Ta=null,Bo=0;function Lu(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),Bp(Ta,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fp(e){function n(k,x){if(e){var P=k.deletions;P===null?(k.deletions=[x],k.flags|=16):P.push(x)}}function r(k,x){if(!e)return null;for(;x!==null;)n(k,x),x=x.sibling;return null}function o(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Vi(k,x),k.index=0,k.sibling=null,k}function f(k,x,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<x?(k.flags|=67108866,x):P):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,x,P,Y){return x===null||x.tag!==6?(x=Bh(P,k.mode,Y),x.return=k,x):(x=h(x,P),x.return=k,x)}function I(k,x,P,Y){var ht=P.type;return ht===et?G(k,x,P.props.children,Y,P.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&wr(ht)===x.type)?(x=h(x,P.props),qo(x,P),x.return=k,x):(x=Du(P.type,P.key,P.props,null,k.mode,Y),qo(x,P),x.return=k,x)}function z(k,x,P,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=qh(P,k.mode,Y),x.return=k,x):(x=h(x,P.children||[]),x.return=k,x)}function G(k,x,P,Y,ht){return x===null||x.tag!==7?(x=Er(P,k.mode,Y,ht),x.return=k,x):(x=h(x,P),x.return=k,x)}function X(k,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Bh(""+x,k.mode,P),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return P=Du(x.type,x.key,x.props,null,k.mode,P),qo(P,x),P.return=k,P;case Z:return x=qh(x,k.mode,P),x.return=k,x;case b:return x=wr(x),X(k,x,P)}if(ue(x)||U(x))return x=Er(x,k.mode,P,null),x.return=k,x;if(typeof x.then=="function")return X(k,Lu(x),P);if(x.$$typeof===ct)return X(k,Mu(k,x),P);Pu(k,x)}return null}function j(k,x,P,Y){var ht=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,x,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ht?I(k,x,P,Y):null;case Z:return P.key===ht?z(k,x,P,Y):null;case b:return P=wr(P),j(k,x,P,Y)}if(ue(P)||U(P))return ht!==null?null:G(k,x,P,Y,null);if(typeof P.then=="function")return j(k,x,Lu(P),Y);if(P.$$typeof===ct)return j(k,x,Mu(k,P),Y);Pu(k,P)}return null}function q(k,x,P,Y,ht){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(x,k,""+Y,ht);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return k=k.get(Y.key===null?P:Y.key)||null,I(x,k,Y,ht);case Z:return k=k.get(Y.key===null?P:Y.key)||null,z(x,k,Y,ht);case b:return Y=wr(Y),q(k,x,P,Y,ht)}if(ue(Y)||U(Y))return k=k.get(P)||null,G(x,k,Y,ht,null);if(typeof Y.then=="function")return q(k,x,P,Lu(Y),ht);if(Y.$$typeof===ct)return q(k,x,P,Mu(x,Y),ht);Pu(x,Y)}return null}function ot(k,x,P,Y){for(var ht=null,zt=null,lt=x,It=x=0,Ot=null;lt!==null&&It<P.length;It++){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var jt=j(k,lt,P[It],Y);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(k,lt),x=f(jt,x,It),zt===null?ht=jt:zt.sibling=jt,zt=jt,lt=Ot}if(It===P.length)return r(k,lt),Ut&&ki(k,It),ht;if(lt===null){for(;It<P.length;It++)lt=X(k,P[It],Y),lt!==null&&(x=f(lt,x,It),zt===null?ht=lt:zt.sibling=lt,zt=lt);return Ut&&ki(k,It),ht}for(lt=o(lt);It<P.length;It++)Ot=q(lt,k,It,P[It],Y),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?It:Ot.key),x=f(Ot,x,It),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(ks){return n(k,ks)}),Ut&&ki(k,It),ht}function pt(k,x,P,Y){if(P==null)throw Error(a(151));for(var ht=null,zt=null,lt=x,It=x=0,Ot=null,jt=P.next();lt!==null&&!jt.done;It++,jt=P.next()){lt.index>It?(Ot=lt,lt=null):Ot=lt.sibling;var ks=j(k,lt,jt.value,Y);if(ks===null){lt===null&&(lt=Ot);break}e&&lt&&ks.alternate===null&&n(k,lt),x=f(ks,x,It),zt===null?ht=ks:zt.sibling=ks,zt=ks,lt=Ot}if(jt.done)return r(k,lt),Ut&&ki(k,It),ht;if(lt===null){for(;!jt.done;It++,jt=P.next())jt=X(k,jt.value,Y),jt!==null&&(x=f(jt,x,It),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Ut&&ki(k,It),ht}for(lt=o(lt);!jt.done;It++,jt=P.next())jt=q(lt,k,It,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?It:jt.key),x=f(jt,x,It),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(NA){return n(k,NA)}),Ut&&ki(k,It),ht}function Zt(k,x,P,Y){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ht=P.key;x!==null;){if(x.key===ht){if(ht=P.type,ht===et){if(x.tag===7){r(k,x.sibling),Y=h(x,P.props.children),Y.return=k,k=Y;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&wr(ht)===x.type){r(k,x.sibling),Y=h(x,P.props),qo(Y,P),Y.return=k,k=Y;break t}r(k,x);break}else n(k,x);x=x.sibling}P.type===et?(Y=Er(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Du(P.type,P.key,P.props,null,k.mode,Y),qo(Y,P),Y.return=k,k=Y)}return g(k);case Z:t:{for(ht=P.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){r(k,x.sibling),Y=h(x,P.children||[]),Y.return=k,k=Y;break t}else{r(k,x);break}else n(k,x);x=x.sibling}Y=qh(P,k.mode,Y),Y.return=k,k=Y}return g(k);case b:return P=wr(P),Zt(k,x,P,Y)}if(ue(P))return ot(k,x,P,Y);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),pt(k,x,P,Y)}if(typeof P.then=="function")return Zt(k,x,Lu(P),Y);if(P.$$typeof===ct)return Zt(k,x,Mu(k,P),Y);Pu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(r(k,x.sibling),Y=h(x,P),Y.return=k,k=Y):(r(k,x),Y=Bh(P,k.mode,Y),Y.return=k,k=Y),g(k)):r(k,x)}return function(k,x,P,Y){try{Bo=0;var ht=Zt(k,x,P,Y);return Ta=null,ht}catch(lt){if(lt===Ea||lt===ku)throw lt;var zt=pn(29,lt,null,k.mode);return zt.lanes=Y,zt.return=k,zt}finally{}}}var Ir=Fp(!0),Gp=Fp(!1),_s=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Cp(e,null,r),n}return Cu(e,o,n,r),Nu(e)}function Ho(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}function nf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var sf=!1;function Fo(){if(sf){var e=va;if(e!==null)throw e}}function Go(e,n,r,o){sf=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xt&j)===j:(o&j)===j){j!==0&&j===_a&&(sf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var Zt=r;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){X=ot.call(Zt,X,j);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(Zt,X,j):ot,j==null)break t;X=S({},X,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=X):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=g,e.lanes=g,e.memoizedState=X}}function Qp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Qp(r[e],n)}var Aa=D(null),zu=D(0);function Yp(e,n){e=Qi,nt(zu,e),nt(Aa,n),Qi=e|n.baseLanes}function rf(){nt(zu,Qi),nt(Aa,Aa.current)}function af(){Qi=zu.current,K(Aa),K(zu)}var gn=D(null),xn=null;function Ts(e){var n=e.alternate;nt(pe,pe.current&1),nt(gn,e),xn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(xn=e)}function of(e){nt(pe,pe.current),nt(gn,e),xn===null&&(xn=e)}function Xp(e){e.tag===22?(nt(pe,pe.current),nt(gn,e),xn===null&&(xn=e)):As()}function As(){nt(pe,pe.current),nt(gn,gn.current)}function yn(e){K(gn),xn===e&&(xn=null),K(pe)}var pe=D(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,wt=null,$t=null,be=null,Bu=!1,Sa=!1,Cr=!1,qu=0,Qo=0,ba=null,v1=0;function he(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!mn(e[r],n[r]))return!1;return!0}function uf(e,n,r,o,h,f){return Pi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Og:bf,Cr=!1,f=r(o,h),Cr=!1,Sa&&(f=Jp(n,r,o,h)),$p(e),f}function $p(e){F.H=Xo;var n=$t!==null&&$t.next!==null;if(Pi=0,be=$t=wt=null,Bu=!1,Qo=0,ba=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Ou(e)&&(we=!0))}function Jp(e,n,r,o){wt=e;var h=0;do{if(Sa&&(ba=null),Qo=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,be=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(r,o)}while(Sa);return f}function E1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(wt.flags|=1024),n}function cf(){var e=qu!==0;return qu=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ff(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Pi=0,be=$t=wt=null,Sa=!1,Qo=qu=0,ba=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?wt.memoizedState=be=e:be=be.next=e,be}function ge(){if($t===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=be===null?wt.memoizedState:be.next;if(n!==null)be=n,$t=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?wt.memoizedState=be=e:be=be.next=e}return be}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Qo;return Qo+=1,ba===null&&(ba=[]),e=Bp(ba,e,n),n=wt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Og:bf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ct)return qe(e)}throw Error(a(438,String(e)))}function df(e){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ge();return mf(n,$t,e)}function mf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(xt&X)===X:(Pi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===_a&&(G=!0);else if((Pi&j)===j){z=z.next,j===_a&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,g=f):I=I.next=X,wt.lanes|=j,ws|=j;X=z.action,Cr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,wt.lanes|=X,ws|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!mn(f,e.memoizedState)&&(we=!0,G&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function pf(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Zp(e,n,r){var o=wt,h=ge(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!mn(($t||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,_f(eg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},tg.bind(null,o,h,r,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Wp(o,n,r)}return r}function Wp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Hu(),wt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function tg(e,n,r,o){n.value=r,n.getSnapshot=o,ng(n)&&ig(e)}function eg(e,n,r){return r(function(){ng(n)&&ig(e)})}function ng(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!mn(e,r)}catch{return!0}}function ig(e){var n=vr(e,2);n!==null&&cn(n,e,2)}function gf(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),Cr){Tn(!0);try{r()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function sg(e,n,r,o){return e.baseState=r,mf(e,$t,typeof o=="function"?o:zi)}function T1(e,n,r,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,rg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,o),I=F.S;I!==null&&I(g,E),ag(e,n,E)}catch(z){yf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),ag(e,n,f)}catch(z){yf(e,n,z)}}function ag(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){og(e,n,o)},function(o){return yf(e,n,o)}):og(e,n,r)}function og(e,n,r){n.status="fulfilled",n.value=r,lg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,rg(e,r)))}function yf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,lg(n),n=n.next;while(n!==o)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function cg(e,n){if(Ut){var r=te.formState;if(r!==null){t:{var o=wt;if(Ut){if(ne){e:{for(var h=ne,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=On(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},r.queue=o,r=Ng.bind(null,wt,o),o.dispatch=r,o=gf(!1),f=Sf.bind(null,wt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=T1.bind(null,wt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function hg(e){var n=ge();return fg(n,$t,e)}function fg(e,n,r){if(n=mf(e,n,ug)[0],e=Gu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===Ea?ku:g}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,wa(9,{destroy:void 0},A1.bind(null,h,r),null)),[o,f,e]}function A1(e,n){e.action=n}function dg(e){var n=ge(),r=$t;if(r!==null)return fg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Hu(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function mg(){return ge().memoizedState}function Qu(e,n,r,o){var h=nn();wt.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ku(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&lf(o,$t.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(wt.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function pg(e,n){Qu(8390656,8,e,n)}function _f(e,n){Ku(2048,8,e,n)}function S1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Hu(),wt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function gg(e){var n=ge().memoizedState;return S1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yg(e,n){return Ku(4,2,e,n)}function _g(e,n){return Ku(4,4,e,n)}function vg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Eg(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,vg.bind(null,n,e),r)}function vf(){}function Tg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ag(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),Cr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o}function Ef(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),wt.lanes|=e,ws|=e,r)}function Sg(e,n,r,o){return mn(r,n)?r:Aa.current!==null?(e=Ef(e,r,o),mn(e,n)||(we=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(xt&261930)===0?(we=!0,e.memoizedState=r):(e=Sy(),wt.lanes|=e,ws|=e,n)}function bg(e,n,r,o,h){var f=Q.p;Q.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Sf(e,!1,n,r);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=_1(I,o);Yo(e,n,G,En(e))}else Yo(e,n,o,En(e))}catch(X){Yo(e,n,{then:function(){},status:"rejected",reason:X},En())}finally{Q.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function b1(){}function Tf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=wg(e).queue;bg(e,h,n,it,r===null?b1:function(){return Rg(e),r(o)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:it},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),Yo(e,n.next.queue,{},En())}function Af(){return qe(hl)}function Ig(){return ge().memoizedState}function Cg(){return ge().memoizedState}function w1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=En();e=vs(r);var o=Es(n,e,r);o!==null&&(cn(o,n,r),Ho(o,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function R1(e,n,r){var o=En();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Dg(n,r):(r=zh(e,n,r,o),r!==null&&(cn(r,e,o),xg(r,n,o)))}function Ng(e,n,r){var o=En();Yo(e,n,r,o)}function Yo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Dg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Cu(e,n,h,0),te===null&&Iu(),!1}catch{}finally{}if(r=zh(e,n,h,o),r!==null)return cn(r,e,o),xg(r,n,o),!0}return!1}function Sf(e,n,r,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=zh(e,r,o,2),n!==null&&cn(n,e,2)}function Yu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Dg(e,n){Sa=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function xg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}var Xo={readContext:qe,use:Fu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Xo.useEffectEvent=he;var Og={readContext:qe,use:Fu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:pg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qu(4194308,4,vg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(Cr){Tn(!0);try{e()}finally{Tn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(Cr){Tn(!0);try{r(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=R1.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,r=Ng.bind(null,wt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=nn();return Ef(r,e,n)},useTransition:function(){var e=gf(!1);return e=bg.bind(null,wt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=wt,h=nn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),te===null)throw Error(a(349));(xt&127)!==0||Wp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,pg(eg.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},tg.bind(null,o,f,r,n),null),r},useId:function(){var e=nn(),n=te.identifierPrefix;if(Ut){var r=_i,o=yi;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=v1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,wt,!0,r),r.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return nn().memoizedState=w1.bind(null,wt)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:qe,use:Fu,useCallback:Tg,useContext:qe,useEffect:_f,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:Gu,useRef:mg,useState:function(){return Gu(zi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=ge();return Sg(r,$t.memoizedState,e,n)},useTransition:function(){var e=Gu(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zp,useId:Ig,useHostTransitionStatus:Af,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var r=ge();return sg(r,$t,e,n)},useMemoCache:df,useCacheRefresh:Cg};bf.useEffectEvent=gg;var Mg={readContext:qe,use:Fu,useCallback:Tg,useContext:qe,useEffect:_f,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Ag,useReducer:pf,useRef:mg,useState:function(){return pf(zi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=ge();return $t===null?Ef(r,e,n):Sg(r,$t.memoizedState,e,n)},useTransition:function(){var e=pf(zi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Zp,useId:Ig,useHostTransitionStatus:Af,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var r=ge();return $t!==null?sg(r,$t,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Cg};Mg.useEffectEvent=gg;function wf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=En(),h=vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=En(),o=vs(r);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,r),n!==null&&(cn(n,e,r),Ho(n,e,r))}};function Vg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(r,o)||!ko(h,f):!0}function kg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Nr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ug(e){Ru(e)}function Lg(e){console.error(e)}function Pg(e){Ru(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function zg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function jg(e){return e=vs(e),e.tag=3,e}function Bg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zg(n,r,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function I1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return xn===null?oc():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Zf(e,o,h)),!1}throw Error(a(435,r.tag))}return Zf(e,o,h),oc(),!1}if(Ut)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(a(422),{cause:o}),Po(In(e,r)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Po(In(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,r),h=If(e.stateNode,o,h),nf(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=In(f,r),il===null?il=[f]:il.push(f),fe!==4&&(fe=2),n===null)return!0;o=In(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=If(r.stateNode,o,e),nf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),Bg(h,e,r,o),nf(r,h),!1}r=r.return}while(r!==null);return!1}var Cf=Error(a(461)),we=!1;function He(e,n,r,o){n.child=e===null?Gp(n,null,r,o):Ir(n,e.child,r,o)}function qg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Sr(n),o=uf(e,n,r,g,f,h),E=cf(),e!==null&&!we?(hf(e,n,h),ji(e,n,h)):(Ut&&E&&Hh(n),n.flags|=1,He(e,n,o,h),n.child)}function Hg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Fg(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(g,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Fg(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Nf(e,n,r,o,h)}function Gg(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Qg(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):rf(),Xp(n);else return o=n.lanes=536870912,Qg(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),Yp(n,f),As(),n.memoizedState=null):(e!==null&&Vu(n,null),rf(),As());return He(e,n,h,r),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(e,n,r,o,h){var f=Zh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),rf(),Xp(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,r){return Ir(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function C1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,$o(null,e);if(of(n),(e=ne)?(e=r_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=te,o!==null&&(g=yo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,vr(e,g),cn(o,e,g),Cf;oc(),n=Kg(e,n,r)}else e=f.treeContext,ne=On(g.nextSibling),Be=n,Ut=!0,ps=null,Dn=!1,e!==null&&Mp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Nf(e,n,r,o,h){return Sr(n),r=uf(e,n,r,o,void 0,h),o=cf(),e!==null&&!we?(hf(e,n,h),ji(e,n,h)):(Ut&&o&&Hh(n),n.flags|=1,He(e,n,r,h),n.child)}function Yg(e,n,r,o,h,f){return Sr(n),n.updateQueue=null,r=Jp(n,o,r,h),$p(e),o=cf(),e!==null&&!we?(hf(e,n,f),ji(e,n,f)):(Ut&&o&&Hh(n),n.flags|=1,He(e,n,r,f),n.child)}function Xg(e,n,r,o,h){if(Sr(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qe(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(wf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Go(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Nr(r,E);f.props=I;var z=f.context,G=r.contextType;g=da,typeof G=="object"&&G!==null&&(g=qe(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&kg(n,f,o,g),_s=!1;var j=n.memoizedState;f.state=j,Go(n,o,f,h),Fo(),z=n.memoizedState,E||j!==z||_s?(typeof X=="function"&&(wf(n,r,X,o),z=n.memoizedState),(I=_s||Vg(n,r,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,G=Nr(r,g),f.props=G,X=n.pendingProps,j=f.context,z=r.contextType,I=da,typeof z=="object"&&z!==null&&(I=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&kg(n,f,o,I),_s=!1,j=n.memoizedState,f.state=j,Go(n,o,f,h),Fo();var q=n.memoizedState;g!==X||j!==q||_s||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(wf(n,r,E,o),q=n.memoizedState),(G=_s||Vg(n,r,G,o,j,q,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ir(n,e.child,null,h),n.child=Ir(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function $g(e,n,r,o){return Tr(),n.flags|=256,He(e,n,r,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:zp()}}function Of(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=vn),e}function Jg(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ts(n):As(),(e=ne)?(e=r_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Dp(e),r.return=n,n.child=r,Be=n,ne=null)):e=null,e===null)throw gs(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Er(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=xf(r),o.childLanes=Of(e,g,r),n.memoizedState=Df,$o(null,o)):(Ts(n),Mf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Vf(e,n,r)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Er(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ir(n,e.child,null,r),o=n.child,o.memoizedState=xf(r),o.childLanes=Of(e,g,r),n.memoizedState=Df,n=$o(null,o));else if(Ts(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Po({value:o,source:null,stack:null}),n=Vf(e,n,r)}else if(we||ya(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=te,g!==null&&(o=yo(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,vr(e,o),cn(g,e,o),Cf;dd(E)||oc(),n=Vf(e,n,r)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=On(E.nextSibling),Be=n,Ut=!0,ps=null,Dn=!1,e!==null&&Mp(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Er(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=xf(r):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=zp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,g,r),n.memoizedState=Df,$o(e.child,o)):(Ts(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Vf(e,n,r){return Ir(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function kf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Wg(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(pe,g),He(e,n,o,r),o=Ut?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,r,n);else if(e.tag===19)Zg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),kf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}kf(n,!0,r,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function N1(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ys(n,Se,e.memoizedState.cache),Tr();break;case 27:case 5:er(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(e,n,r):(Ts(n),e=ji(e,n,r),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Wg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Gg(e,n,r,n.pendingProps);case 24:ys(n,Se,e.memoizedState.cache)}return ji(e,n,r)}function ty(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return we=!1,N1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Ut&&(n.flags&1048576)!==0&&Op(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=wr(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Nr(e,o),n.tag=1,n=Xg(null,n,e,o,r)):(n.tag=0,n=Nf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Et){n.tag=11,n=qg(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Hg(null,n,e,o,r);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Nr(o,n.pendingProps),Xg(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Go(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ys(n,Se,o),o!==f.cache&&Xh(n,[Se],r,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(e,n,o,r);break t}else if(o!==h){h=In(Error(a(424)),n),Po(h),n=$g(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=On(e.firstChild),Be=n,Ut=!0,ps=null,Dn=!0,r=Gp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Tr(),o===h){n=ji(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=h_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=mc(Rt.current).createElement(r),o[Ee]=n,o[ke]=e,Fe(o,r,e),Te(o),n.stateNode=o):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return er(n),e===null&&Ut&&(o=n.stateNode=l_(n.type,n.pendingProps,Rt.current),Be=n,Dn=!0,h=ne,Ds(n.type)?(pd=h,ne=On(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ne)&&(o=rA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,Be=n,ne=On(o.firstChild),Dn=!1,h=!0):h=!1),h||gs(n)),er(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,E1,null,null,r),hl._currentValue=h),Ju(e,n),He(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=ne)&&(r=aA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,Be=n,ne=null,e=!0):e=!1),e||gs(n)),null;case 13:return Jg(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ir(n,null,o,r):He(e,n,o,r),n.child;case 11:return qg(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Sr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Hg(e,n,n.type,n.pendingProps,r);case 15:return Fg(e,n,n.type,n.pendingProps,r);case 19:return Wg(e,n,r);case 31:return C1(e,n,r);case 22:return Gg(e,n,r,n.pendingProps);case 24:return Sr(n),o=qe(Se),e===null?(h=Zh(),h===null&&(h=te,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},tf(n),ys(n,Se,h)):((e.lanes&r)!==0&&(ef(e,n),Go(n,null,null,r),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Se,o)):(o=f.cache,ys(n,Se,o),o!==h.cache&&Xh(n,[Se],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Lf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Rr=Uu,Wh}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Iy())e.flags|=8192;else throw Rr=Uu,Wh}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Na|=n)}function Jo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function D1(e,n,r){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Se),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ie(n),ey(n,f)):(ie(n),Lf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ie(n),ey(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ie(n),Lf(n,h,e,o,r)),null;case 27:if(Yr(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=st.current,ga(n)?Vp(n):(e=l_(h,o,r),n.stateNode=e,Bi(n))}return ie(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=st.current,ga(n))Vp(n);else{var g=mc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ie(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,ga(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jy(e.nodeValue,r)),e||gs(n,!0)}else e=mc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&rd(n.stateNode.containerInfo),ie(n),null;case 10:return Li(n.type),ie(n),null;case 19:if(K(pe),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Np(r,e),r=r.sibling;return nt(pe,pe.current&1|2),Ut&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>sc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ie(n),null}else 2*tn()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=pe.current,nt(pe,h?r&1|2:r&1),Ut&&ki(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return yn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(br),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function x1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(pe),null;case 4:return ae(),null;case 10:return Li(n.type),null;case 22:case 23:return yn(n),af(),e!==null&&K(br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Se),null;case 25:return null;default:return null}}function ny(e,n){switch(Fh(n),n.tag){case 3:Li(Se),ae();break;case 26:case 27:case 5:Yr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(pe);break;case 10:Li(n.type);break;case 22:case 23:yn(n),af(),e!==null&&K(br);break;case 24:Li(Se)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Yt(n,n.return,E)}}function Ss(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,z=E;try{z()}catch(G){Yt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function iy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kp(n,r)}catch(o){Yt(e,e.return,o)}}}function sy(e,n,r){r.props=Nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Wo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Yt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(e,n,h)}else r.current=null}function ry(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Yt(e,e.return,h)}}function Pf(e,n,r){try{var o=e.stateNode;W1(o,e.type,r,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Ds(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function tc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[Ee]=e,n[ke]=r}catch(f){Yt(e,e.return,f)}}var qi=!1,Re=!1,Bf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Le=null;function O1(e,n){if(e=e.containerInfo,ld=Tc,e=Ep(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},Tc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ot=Nr(r.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(r,r.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function uy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&Zo(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(r,r.return,g)}else{var h=Nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(r,r.return,g)}}o&64&&iy(r),o&512&&Wo(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kp(e,n)}catch(g){Yt(r,r.return,g)}}break;case 27:n===null&&o&4&&oy(r);case 26:case 5:Fi(e,r),n===null&&o&4&&ry(r),o&512&&Wo(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&fy(e,r);break;case 13:Fi(e,r),o&4&&dy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=B1.bind(null,r),oA(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Re,h=qi;var f=Re;qi=o,(Re=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),qi=h,Re=f}break;case 30:break;default:Fi(e,r)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Hi(e,n,r){for(r=r.child;r!==null;)hy(e,n,r),r=r.sibling}function hy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Re||vi(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||vi(r,n);var o=le,h=an;Ds(r.type)&&(le=r.stateNode,an=!1),Hi(e,n,r),ll(r.stateNode),le=o,an=h;break;case 5:Re||vi(r,n);case 6:if(o=le,h=an,le=null,Hi(e,n,r),le=o,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{le.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:le!==null&&(an?(e=le,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):i_(le,r.stateNode));break;case 4:o=le,h=an,le=r.stateNode.containerInfo,an=!0,Hi(e,n,r),le=o,an=h;break;case 0:case 11:case 14:case 15:Ss(2,r,n),Re||Ss(4,r,n),Hi(e,n,r);break;case 1:Re||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sy(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Hi(e,n,r),Re=o;break;default:Hi(e,n,r)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Yt(n,n.return,r)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Yt(n,n.return,r)}}function M1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=M1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=q1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(a(160));hy(f,g,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var Kn=null;function my(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Ss(3,e,e.return),Zo(3,e),Ss(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=m_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?p_(h,e.type,e.stateNode):d_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),r!==null&&o&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(yc=null,h=Kn,Kn=pc(n.containerInfo),on(n,e),Kn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Bf&&(Bf=!1,py(e));break;case 4:o=Kn,Kn=pc(e.stateNode.containerInfo),on(n,e),ln(e),Kn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=qi,G=Re;if(qi=z||h,Re=G||I,on(n,e),Re=G,qi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||qi||Re||Dr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?s_(q,!0):s_(I.stateNode,!1)}catch(ot){Yt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ay(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=zf(e);tc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=zf(e);tc(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,z=zf(e);jf(e,z,I);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Dr(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sy(n,n.return,r),Dr(n);break;case 27:ll(n.stateNode);case 26:case 5:vi(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Zo(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Qp(I[h],E)}catch(z){Yt(o,o.return,z)}}r&&g&64&&iy(f),Wo(f,f.return);break;case 27:oy(f);case 26:case 5:Gi(h,f,r),r&&o===null&&g&4&&ry(f),Wo(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&g&4&&fy(h,f);break;case 13:Gi(h,f,r),r&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Wo(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function qf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zo(r))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,r,o),n=n.sibling}function gy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Zo(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):tl(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Hf(n.alternate,n);break;default:Yn(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,I,h),Zo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ra(f,g,E,I,h):tl(f,g):(G._visibility|=2,Ra(f,g,E,I,h)),h&&z&2048&&qf(g.alternate,g);break;case 24:Ra(f,g,E,I,h),h&&z&2048&&Hf(g.alternate,g);break;default:Ra(f,g,E,I,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:tl(r,o),h&2048&&qf(o.alternate,o);break;case 24:tl(r,o),h&2048&&Hf(o.alternate,o);break;default:tl(r,o)}n=n.sibling}}var el=8192;function Ia(e,n,r){if(e.subtreeFlags&el)for(e=e.child;e!==null;)yy(e,n,r),e=e.sibling}function yy(e,n,r){switch(e.tag){case 26:Ia(e,n,r),e.flags&el&&e.memoizedState!==null&&vA(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,r);break;case 3:case 4:var o=Kn;Kn=pc(e.stateNode.containerInfo),Ia(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ia(e,n,r),el=o):Ia(e,n,r));break;default:Ia(e,n,r)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Ey(o,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):nl(e);break;default:nl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Ey(o,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ey(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Ss(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(cy(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var V1={getCacheForType:function(e){var n=qe(Se),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Se).controller.signal}},k1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Nt=null,xt=0,Kt=0,_n=null,bs=!1,Ca=!1,Ff=!1,Qi=0,fe=0,ws=0,xr=0,Gf=0,vn=0,Na=0,il=null,un=null,Qf=!1,ic=0,Ty=0,sc=1/0,rc=null,Rs=null,Oe=0,Is=null,Da=null,Ki=0,Kf=0,Yf=null,Ay=null,sl=0,Xf=null;function En(){return(Ft&2)!==0&&xt!==0?xt&-xt:F.T!==null?ed():au()}function Sy(){if(vn===0)if((xt&536870912)===0||Ut){var e=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function cn(e,n,r){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Cs(e,xt,vn,!1)),rr(e,r),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(xr|=r),fe===4&&Cs(e,xt,vn,!1)),Ei(e))}function by(e,n,r){if((Ft&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?P1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Cs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!U1(r)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=il;var I=E.current.memoizedState.isDehydrated;if(I&&(xa(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,vn,!bs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-tn(),10<h)){if(Cs(o,n,vn,!bs),ni(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=e_(wy.bind(null,o,r,un,rc,Qf,n,vn,xr,Na,bs,f,"Throttled",-0,0),h);break t}wy(o,r,un,rc,Qf,n,vn,xr,Na,bs,f,null,-0,0)}}break}while(!0);Ei(e)}function wy(e,n,r,o,h,f,g,E,I,z,G,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},yy(n,f,X);var ot=(f&62914560)===f?ic-tn():(f&4194048)===f?Ty-tn():0;if(ot=EA(X,ot),ot!==null){Ki=f,e.cancelPendingCommit=ot(My.bind(null,e,n,f,r,o,h,g,E,I,G,X,null,j,q)),Cs(e,f,g,!z);return}}My(e,n,f,r,o,h,g,E,I)}function U1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,r,o){n&=~Gf,n&=~xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&ar(e,r,n)}function ac(){return(Ft&6)===0?(rl(0),!1):!0}function $f(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Ui=Ar=null,ff(e),Ta=null,Bo=0,e=Nt;for(;e!==null;)ny(e.alternate,e),e=e.return;Nt=null}}function xa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,nA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,$f(),te=e,Nt=r=Vi(e.current,null),xt=n,Kt=0,_n=null,bs=!1,Ca=Pn(e,n),Ff=!1,Na=vn=Gf=xr=ws=fe=0,un=il=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Iu(),r}function Ry(e,n){wt=null,F.H=Xo,n===Ea||n===ku?(n=qp(),Kt=3):n===Wh?(n=qp(),Kt=4):Kt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Nt===null&&(fe=1,Xu(e,In(n,e.current)))}function Iy(){var e=gn.current;return e===null?!0:(xt&4194048)===xt?xn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===xn:!1}function Cy(){var e=F.H;return F.H=Xo,e===null?Xo:e}function Ny(){var e=F.A;return F.A=V1,e}function oc(){fe=4,bs||(xt&4194048)!==xt&&gn.current!==null||(Ca=!0),(ws&134217727)===0&&(xr&134217727)===0||te===null||Cs(te,xt,vn,!1)}function Jf(e,n,r){var o=Ft;Ft|=2;var h=Cy(),f=Ny();(te!==e||xt!==n)&&(rc=null,xa(e,n)),n=!1;var g=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,I=_n;switch(Kt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Kt;if(Kt=0,_n=null,Oa(e,E,I,z),r&&Ca){g=0;break t}break;default:z=Kt,Kt=0,_n=null,Oa(e,E,I,z)}}L1(),g=fe;break}catch(G){Ry(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ui=Ar=null,Ft=o,F.H=h,F.A=f,Nt===null&&(te=null,xt=0,Iu()),g}function L1(){for(;Nt!==null;)Dy(Nt)}function P1(e,n){var r=Ft;Ft|=2;var o=Cy(),h=Ny();te!==e||xt!==n?(rc=null,sc=tn()+500,xa(e,n)):Ca=Pn(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(jp(f)){Kt=0,_n=null,xy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:jp(f)?(Kt=0,_n=null,xy(n)):(Kt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?g_(g):E.stateNode.complete){Kt=0,_n=null;var I=E.sibling;if(I!==null)Nt=I;else{var z=E.return;z!==null?(Nt=z,lc(z)):Nt=null}break e}}Kt=0,_n=null,Oa(e,n,f,5);break;case 6:Kt=0,_n=null,Oa(e,n,f,6);break;case 8:$f(),fe=6;break t;default:throw Error(a(462))}}z1();break}catch(G){Ry(e,G)}while(!0);return Ui=Ar=null,F.H=o,F.A=h,Ft=r,Nt!==null?0:(te=null,xt=0,Iu(),fe)}function z1(){for(;Nt!==null&&!Rh();)Dy(Nt)}function Dy(e){var n=ty(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?lc(e):Nt=n}function xy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Yg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Yg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:ff(n);default:ny(r,n),n=Nt=Np(n,Qi),n=ty(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?lc(e):Nt=n}function Oa(e,n,r,o){Ui=Ar=null,ff(n),Ta=null,Bo=0;var h=n.return;try{if(I1(e,h,n,r,xt)){fe=1,Xu(e,In(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,Xu(e,In(r,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ca||(xt&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,bs);return}e=n.return;var r=D1(n.alternate,n,Qi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function Oy(e,n){do{var r=x1(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);fe=6,Nt=null}function My(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Nh(e,r,f,g,E,I),e===te&&(Nt=te=null,xt=0),Da=n,Is=e,Ki=r,Kf=f,Yf=h,Ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H1(ss,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=Q.p,Q.p=2,g=Ft,Ft|=4;try{O1(e,n,r)}finally{Ft=g,Q.p=h,F.T=o}}Oe=1,Vy(),ky(),Uy()}}function Vy(){if(Oe===1){Oe=0;var e=Is,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=Q.p;Q.p=2;var h=Ft;Ft|=4;try{my(n,e);var f=ud,g=Ep(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vp(E.ownerDocument.documentElement,E)){if(I!==null&&Mh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),Zt=I.end===void 0?pt:Math.min(I.end,ot);!q.extend&&pt>Zt&&(g=Zt,Zt=pt,pt=g);var k=_p(E,pt),x=_p(E,Zt);if(k&&x&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),pt>Zt?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!ld,ud=ld=null}finally{Ft=h,Q.p=o,F.T=r}}e.current=n,Oe=2}}function ky(){if(Oe===2){Oe=0;var e=Is,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=Q.p;Q.p=2;var h=Ft;Ft|=4;try{uy(e,n.alternate,n)}finally{Ft=h,Q.p=o,F.T=r}}Oe=3}}function Uy(){if(Oe===4||Oe===3){Oe=0,Wl();var e=Is,n=Da,r=Ki,o=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Da=Is=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Di(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=Q.p,Q.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,Q.p=h}}(Ki&3)!==0&&uc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Xf?sl++:(sl=0,Xf=e):sl=0,rl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function uc(){return Vy(),ky(),Uy(),Py()}function Py(){if(Oe!==5)return!1;var e=Is,n=Kf;Kf=0;var r=Di(Ki),o=F.T,h=Q.p;try{Q.p=32>r?32:r,F.T=null,r=Yf,Yf=null;var f=Is,g=Ki;if(Oe=0,Da=Is=null,Ki=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,vy(f.current),gy(f,f.current,g,r),Ft=E,rl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{Q.p=h,F.T=o,Ly(e,n)}}function zy(e,n,r){n=In(r,n),n=If(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(rr(e,2),Ei(e))}function Yt(e,n,r){if(e.tag===3)zy(e,e,r);else for(;n!==null;){if(n.tag===3){zy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=In(r,e),r=jg(2),o=Es(n,r,2),o!==null&&(Bg(r,o,n,e),rr(o,2),Ei(o));break}}n=n.return}}function Zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new k1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Ff=!0,h.add(r),e=j1.bind(null,e,n,r),n.then(e,e))}function j1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,te===e&&(xt&r)===r&&(fe===4||fe===3&&(xt&62914560)===xt&&300>tn()-ic?(Ft&2)===0&&xa(e,0):Gf|=r,Na===xt&&(Na=0)),Ei(e)}function jy(e,n){n===0&&(n=ru()),e=vr(e,n),e!==null&&(rr(e,n),Ei(e))}function B1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function q1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),jy(e,r)}function H1(e,n){return xe(e,n)}var cc=null,Ma=null,Wf=!1,hc=!1,td=!1,Ns=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?cc=Ma=e:Ma=Ma.next=e),hc=!0,Wf||(Wf=!0,G1())}function rl(e,n){if(!td&&hc){td=!0;do for(var r=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fy(o,f))}else f=xt,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(r=!0,Fy(o,f));o=o.next}while(r);td=!1}}function F1(){By()}function By(){hc=Wf=!1;var e=0;Ns!==0&&eA()&&(e=Ns);for(var n=tn(),r=null,o=cc;o!==null;){var h=o.next,f=qy(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(Ma=r)):(r=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Oe!==0&&Oe!==5||rl(e),Ns!==0&&(Ns=0)}function qy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Ch(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,r=xt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Pn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&is(o),Di(r)){case 2:case 8:r=po;break;case 32:r=ss;break;case 268435456:r=tu;break;default:r=ss}return o=Hy.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var o=xt;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,n),qy(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Hy.bind(null,e):null)}function Fy(e,n){if(uc())return null;by(e,n,!0)}function G1(){iA(function(){(Ft&6)!==0?xe(mo,F1):By()})}function ed(){if(Ns===0){var e=_a;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ns=e}return Ns}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Qy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Q1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Gy((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?Gy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var I=g?Qy(h,g):new FormData(h);Tf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Qy(h,g):new FormData(h),Tf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],K1=id.toLowerCase(),Y1=id[0].toUpperCase()+id.slice(1);Qn(K1,"on"+Y1)}Qn(Sp,"onAnimationEnd"),Qn(bp,"onAnimationIteration"),Qn(wp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(c1,"onTransitionRun"),Qn(h1,"onTransitionStart"),Qn(f1,"onTransitionCancel"),Qn(Rp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=I}}}}function Dt(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var o=e+"__bubble";r.has(o)||(Yy(n,e,2,!1),r.add(o))}function sd(e,n,r){var o=0;n&&(o|=4),Yy(r,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[fc]){e[fc]=!0,_o.forEach(function(r){r!=="selectionchange"&&(X1.has(r)||sd(r,!1,e),sd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,sd("selectionchange",!1,n))}}function Yy(e,n,r,o){switch(S_(n)){case 2:var h=SA;break;case 8:h=bA;break;default:h=Ed}r=h.bind(null,n,r,e),h=void 0,!hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ad(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,G=Sn(r),X=[];t:{var j=Ip.get(e);if(j!==void 0){var q=di,ot=e;switch(e){case"keypress":if(dr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":ot="focus",q=pr;break;case"focusout":ot="blur",q=pr;break;case"beforeblur":case"afterblur":q=pr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sp:case bp:case wp:q=gu;break;case Rp:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=bt}var pt=(n&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),k=pt?j!==null?j+"Capture":null:j;pt=[];for(var x=z,P;x!==null;){var Y=x;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=qn(x,k),Y!=null&&pt.push(ol(x,Y,P))),Zt)break;x=x.return}0<pt.length&&(j=new q(j,ot,null,r,G),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Io&&(ot=r.relatedTarget||r.fromElement)&&(ai(ot)||ot[si]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=r.relatedTarget||r.toElement,q=z,ot=ot?ai(ot):null,ot!==null&&(Zt=c(ot),pt=ot.tag,ot!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=xo,Y="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Mi,Y="onPointerLeave",k="onPointerEnter",x="pointer"),Zt=q==null?j:fn(q),P=ot==null?j:fn(ot),j=new pt(Y,x+"leave",q,r,G),j.target=Zt,j.relatedTarget=P,Y=null,ai(G)===z&&(pt=new pt(k,x+"enter",ot,r,G),pt.target=P,pt.relatedTarget=Zt,Y=pt),Zt=Y,q&&ot)e:{for(pt=$1,k=q,x=ot,P=0,Y=k;Y;Y=pt(Y))P++;Y=0;for(var ht=x;ht;ht=pt(ht))Y++;for(;0<P-Y;)k=pt(k),P--;for(;0<Y-P;)x=pt(x),Y--;for(;P--;){if(k===x||x!==null&&k===x.alternate){pt=k;break e}k=pt(k),x=pt(x)}pt=null}else pt=null;q!==null&&Xy(X,j,q,pt,!1),ot!==null&&Zt!==null&&Xy(X,Zt,ot,pt,!0)}}t:{if(j=z?fn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=fp;else if(cp(j))if(dp)zt=o1;else{zt=r1;var lt=s1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&na(z.elementType)&&(zt=fp):zt=a1;if(zt&&(zt=zt(e,z))){hp(X,zt,r,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(lt=z?fn(z):window,e){case"focusin":(cp(lt)||lt.contentEditable==="true")&&(ca=lt,Vh=z,Uo=null);break;case"focusout":Uo=Vh=ca=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Tp(X,r,G);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":Tp(X,r,G)}var It;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ua?gr(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(gi&&r.locale!=="ko"&&(ua||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ua&&(It=No()):(fi=G,Co="value"in fi?fi.value:fi.textContent,ua=!0)),lt=dc(z,Ot),0<lt.length&&(Ot=new pi(Ot,e,null,r,G),X.push({event:Ot,listeners:lt}),It?Ot.data=It:(It=la(r),It!==null&&(Ot.data=It)))),(It=wn?t1(e,r):e1(e,r))&&(Ot=dc(z,"onBeforeInput"),0<Ot.length&&(lt=new pi("onBeforeInput","beforeinput",null,r,G),X.push({event:lt,listeners:Ot}),lt.data=It)),Q1(X,e,z,r,G)}Ky(X,n)})}function ol(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(ol(e,h,f)),h=qn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function $1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=qn(r,f),z!=null&&g.unshift(ol(r,z,I))):h||(z=qn(r,f),z!=null&&g.push(ol(r,z,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var J1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(J1,`
`).replace(Z1,"")}function Jy(e,n){return n=$y(n),$y(e)===n}function Jt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,r,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,ta(e,r,o))}}function od(e,n,r,o,h,f){switch(r){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,I=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Jt(e,n,o,G,r,null)}}cu(e,f,E,I,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?as(e,!!o,n,!1):r!=null&&as(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,r,null)}os(e,o,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,I,o,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Dt(al[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,o,r,null)}return;default:if(na(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&od(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function W1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,X)}}for(var j in o){var q=o[j];if(X=r[j],o.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Jt(e,n,j,q,o,X)}}ea(e,g,E,I,z,G,f,h);return;case"select":q=g=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,h,f,o,I)}n=E,r=g,o=q,j!=null?as(e,!!r,j,!1):!!o!=!!r&&(n!=null?as(e,!!r,n,!0):as(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,o,f)}hu(e,j,q);return;case"option":for(var ot in r)if(j=r[ot],r.hasOwnProperty(ot)&&j!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Jt(e,n,ot,null,o,j)}for(I in o)if(j=o[I],q=r[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)j=r[pt],r.hasOwnProperty(pt)&&j!=null&&!o.hasOwnProperty(pt)&&Jt(e,n,pt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(na(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&od(e,n,Zt,void 0,o,j);for(G in o)j=o[G],q=r[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||od(e,n,G,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(X in o)j=o[X],q=r[X],!o.hasOwnProperty(X)||j===q||j==null&&q==null||Jt(e,n,X,j,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Zy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&Zy(X)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function eA(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(sA)}:e_;function sA(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function i_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ll(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ll(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ll(e.ownerDocument.body);r=h}while(r);La(n)}function s_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),Wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function rA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function aA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var Mn=new Map,u_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=Q.d;Q.d={f:lA,r:uA,D:cA,C:hA,L:fA,m:dA,X:pA,S:mA,M:gA};function lA(){var e=Yi.f(),n=ac();return e||n}function uA(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Rg(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function c_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function cA(e){Yi.D(e),c_("dns-prefetch",e,null)}function hA(e,n){Yi.C(e,n),c_("preconnect",e,n)}function fA(e,n,r){Yi.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=Ua(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function dA(e,n){Yi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(cl(f)))return}o=r.createElement("link"),Fe(o,"link",e),Te(o),r.head.appendChild(o)}}}function mA(e,n,r){Yi.S(e,n,r);var o=Va;if(o&&e){var h=oi(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ul(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Mn.get(f))&&gd(e,r);var I=g=o.createElement("link");Te(I),Fe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function pA(e,n){Yi.X(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&yd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gA(e,n){Yi.M(e,n);var r=Va;if(r&&e){var o=oi(r).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=r.querySelector(cl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&yd(e,n),f=r.createElement("script"),Te(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function h_(e,n,r,o){var h=(h=Rt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ka(r.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ul(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(e,r),f||yA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function yA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),Te(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function cl(e){return"script[async]"+e}function d_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),gc(o,r.precedence,e),n.instance=o;case"stylesheet":h=ka(r.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=f_(r),(h=Mn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Fe(f,"link",o),n.state.loading|=4,gc(f,r.precedence,e),n.instance=f;case"script":return f=Ua(r.src),(h=e.querySelector(cl(f)))?(n.instance=h,Te(h),h):(o=r,(h=Mn.get(f))&&(o=S({},r),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,e));return n.instance}function gc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function m_(e,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function p_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function _A(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=f_(o),(h=Mn.get(h))&&gd(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var _d=0;function EA(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*tA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(TA,e),vc=null,_c.call(e))}function TA(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var o=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function AA(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function y_(e,n,r,o,h,f,g,E,I,z,G,X){return e=new AA(e,n,r,g,I,z,G,X,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},tf(f),e}function __(e){return e?(e=da,e):da}function v_(e,n,r,o,h,f){h=__(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Es(e,o,n),r!==null&&(cn(r,e,n),Ho(r,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=vr(e,67108864);n!==null&&cn(n,e,67108864),vd(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=En();n=or(n);var r=vr(e,n);r!==null&&cn(r,e,n),vd(e,n)}}var Tc=!0;function SA(e,n,r,o){var h=F.T;F.T=null;var f=Q.p;try{Q.p=2,Ed(e,n,r,o)}finally{Q.p=f,F.T=h}}function bA(e,n,r,o){var h=F.T;F.T=null;var f=Q.p;try{Q.p=8,Ed(e,n,r,o)}finally{Q.p=f,F.T=h}}function Ed(e,n,r,o){if(Tc){var h=Td(o);if(h===null)ad(e,n,o,Ac,r),b_(e,o);else if(RA(h,e,n,r,o))o.stopPropagation();else if(b_(e,o),n&4&&-1<wA.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-de(g);E.entanglements[1]|=I,g&=~I}Ei(f),(Ft&6)===0&&(sc=tn()+500,rl(0))}}break;case 31:case 13:E=vr(f,2),E!==null&&cn(E,f,2),ac(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,Ac,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,r)}}function Td(e){return e=Sn(e),Ad(e)}var Ac=null;function Ad(e){if(Ac=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case mo:return 2;case po:return 8;case ss:case Ih:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Sd=!1,xs=null,Os=null,Ms=null,fl=new Map,dl=new Map,Vs=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function RA(e,n,r,o,h){switch(n){case"focusin":return xs=ml(xs,e,n,r,o,h),!0;case"dragenter":return Os=ml(Os,e,n,r,o,h),!0;case"mouseover":return Ms=ml(Ms,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,r,o,h)),!0}return!1}function w_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){A_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,zn(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Io=o,r.target.dispatchEvent(o),Io=null}else return n=An(r),n!==null&&T_(n),e.blockedOn=r,!1;n.shift()}return!0}function R_(e,n,r){Sc(e)&&r.delete(n)}function IA(){Sd=!1,xs!==null&&Sc(xs)&&(xs=null),Os!==null&&Sc(Os)&&(Os=null),Ms!==null&&Sc(Ms)&&(Ms=null),fl.forEach(R_),dl.forEach(R_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,IA)))}var wc=null;function I_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||r)===null)continue;break}var f=An(r);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function La(e){function n(I){return bc(I,e)}xs!==null&&bc(xs,e),Os!==null&&bc(Os,e),Ms!==null&&bc(Ms,e),fl.forEach(n),dl.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[ke]||null;if(typeof f=="function")g||I_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),I_(r)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}Rc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=En();v_(r,o,e,n,null,null)},Rc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),ac(),n[si]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&w_(e)}};var N_=t.version;if(N_!=="19.2.0")throw Error(a(527,N_,"19.2.0"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var CA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Ln=Ic.inject(CA),ze=Ic}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Ug,f=Lg,g=Pg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(e,1,!1,null,null,r,o,null,h,f,g,C_),e[si]=n.current,rd(e),new bd(n)},gl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Ug,g=Lg,E=Pg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=y_(e,1,!0,n,r??null,o,h,I,f,g,E,C_),n.context=__(null),r=n.current,o=En(),o=or(o),h=vs(o),h.callback=null,Es(r,h,o),r=o,n.current.lanes=r,rr(n,r),Ei(n),e[si]=n.current,rd(e),new Rc(n)},gl.version="19.2.0",gl}var z_;function PA(){if(z_)return Id.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=LA(),Id.exports}var zA=PA();const jA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),j_=s=>{const t=BA(s);return t.charAt(0).toUpperCase()+t.slice(1)},A0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FA=Bt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Bt.createElement("svg",{ref:y,...HA,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:A0("lucide",l),...!c&&!qA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Bt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const re=(s,t)=>{const i=Bt.forwardRef(({className:a,...l},c)=>Bt.createElement(FA,{ref:c,iconNode:t,className:A0(`lucide-${jA(j_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=j_(s),i};const GA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QA=re("activity",GA);const KA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],S0=re("book-open",KA);const YA=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],XA=re("brain",YA);const $A=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B_=re("chevron-up",$A);const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ZA=re("circle-question-mark",JA);const WA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tS=re("clock",WA);const eS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nS=re("file-text",eS);const iS=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],sS=re("git-merge",iS);const rS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aS=re("history",rS);const oS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],q_=re("log-in",oS);const lS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uS=re("log-out",lS);const cS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],hS=re("message-circle",cS);const fS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],dS=re("panel-left-close",fS);const mS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],pS=re("panel-left-open",mS);const gS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yS=re("printer",gS);const _S=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vS=re("send",_S);const ES=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],TS=re("sparkles",ES);const AS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]],SS=re("square-minus",AS);const bS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],wS=re("square-plus",bS);const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],H_=re("target",RS);const IS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],b0=re("trash-2",IS);const CS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NS=re("user-plus",CS);const DS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xS=re("user",DS);const OS=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Gd=re("workflow",OS);const MS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],w0=re("zap",MS),VS=()=>{};var F_={};const R0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(V=64)),a.push(i[A],i[S],i[V],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(R0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):kS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new US;const V=c<<2|p>>4;if(a.push(V),_!==64){const H=p<<4&240|_>>2;if(a.push(H),S!==64){const Z=_<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(s){const t=R0(s);return I0.encodeByteArray(t,!0)},Fc=function(s){return LS(s).replace(/\./g,"")},C0=function(s){try{return I0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zS=()=>PS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&C0(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return VS()||zS()||jS()||BS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},N0=s=>uh()?.emulatorHosts?.[s],qS=s=>{const t=N0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},D0=()=>uh()?.config,x0=s=>uh()?.[`_${s}`];class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(s){return(await fetch(s,{credentials:"include"})).ok}function FS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const bl={};function GS(){const s={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?s.emulator.push(t):s.prod.push(t);return s}function QS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let G_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||bl[s]===t||bl[s]||G_)return;bl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=GS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{G_=!0,d()},V}function A(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=QS(a),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),ut=i("preprendIcon"),dt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ct=V.element;p(ct),A(W,et);const Et=_();y(dt,ut),ct.append(dt,Z,W,Et),document.body.appendChild(ct)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function YS(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function JS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function eb(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nb="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=nb,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ib(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function ib(s,t){return s.replace(sb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const sb=/\{\$([^}]+)}/g;function rb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Lr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Q_(c)&&Q_(d)){if(!Lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _l(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function ab(s,t){const i=new ob(s,t);return i.subscribe.bind(i)}class ob{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function xd(){}function We(s){return s&&s._delegate?s._delegate:s}class Pr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class ub{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new HS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hb(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cb(s){return s===Or?void 0:s}function hb(s){return s.instantiationMode==="EAGER"}class fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ub(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const db={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},mb=Mt.INFO,pb={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},gb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=pb[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=mb,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?db[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const yb=(s,t)=>t.some(i=>s instanceof i);let K_,Y_;function _b(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vb(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Qd=new WeakMap,k0=new WeakMap,Od=new WeakMap,Em=new WeakMap;function Eb(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&V0.set(i,s)}).catch(()=>{}),Em.set(t,s),t}function Tb(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||k0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Ab(s){Kd=s(Kd)}function Sb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),qs(a)}:vb().includes(s)?function(...t){return s.apply(Md(this),t),qs(V0.get(this))}:function(...t){return qs(s.apply(Md(this),t))}}function bb(s){return typeof s=="function"?Sb(s):(s instanceof IDBTransaction&&Tb(s),yb(s,_b())?new Proxy(s,Kd):s)}function qs(s){if(s instanceof IDBRequest)return Eb(s);if(Od.has(s))return Od.get(s);const t=bb(s);return t!==s&&(Od.set(s,t),Em.set(t,s)),t}const Md=s=>Em.get(s);function wb(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(qs(d.result),y.oldVersion,y.newVersion,qs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Rb=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],Vd=new Map;function X_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Ib.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Rb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Vd.set(t,c),c}Ab(s=>({...s,get:(t,i,a)=>X_(t,i)||s.get(t,i,a),has:(t,i)=>!!X_(t,i)||s.has(t,i)}));class Cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Nb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Nb(s){return s.getComponent()?.type==="VERSION"}const Yd="@firebase/app",$_="0.14.6";const Zi=new vm("@firebase/app"),Db="@firebase/app-compat",xb="@firebase/analytics-compat",Ob="@firebase/analytics",Mb="@firebase/app-check-compat",Vb="@firebase/app-check",kb="@firebase/auth",Ub="@firebase/auth-compat",Lb="@firebase/database",Pb="@firebase/data-connect",zb="@firebase/database-compat",jb="@firebase/functions",Bb="@firebase/functions-compat",qb="@firebase/installations",Hb="@firebase/installations-compat",Fb="@firebase/messaging",Gb="@firebase/messaging-compat",Qb="@firebase/performance",Kb="@firebase/performance-compat",Yb="@firebase/remote-config",Xb="@firebase/remote-config-compat",$b="@firebase/storage",Jb="@firebase/storage-compat",Zb="@firebase/firestore",Wb="@firebase/ai",tw="@firebase/firestore-compat",ew="firebase",nw="12.6.0";const Xd="[DEFAULT]",iw={[Yd]:"fire-core",[Db]:"fire-core-compat",[Ob]:"fire-analytics",[xb]:"fire-analytics-compat",[Vb]:"fire-app-check",[Mb]:"fire-app-check-compat",[kb]:"fire-auth",[Ub]:"fire-auth-compat",[Lb]:"fire-rtdb",[Pb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[jb]:"fire-fn",[Bb]:"fire-fn-compat",[qb]:"fire-iid",[Hb]:"fire-iid-compat",[Fb]:"fire-fcm",[Gb]:"fire-fcm-compat",[Qb]:"fire-perf",[Kb]:"fire-perf-compat",[Yb]:"fire-rc",[Xb]:"fire-rc-compat",[$b]:"fire-gcs",[Jb]:"fire-gcs-compat",[Zb]:"fire-fst",[tw]:"fire-fst-compat",[Wb]:"fire-vertex","fire-js":"fire-js",[ew]:"fire-js-all"};const Gc=new Map,sw=new Map,$d=new Map;function J_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if($d.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,s);for(const i of Gc.values())J_(i,s);for(const i of sw.values())J_(i,s);return!0}function Tm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Vn(s){return s==null?!1:s.settings!==void 0}const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Bl("app","Firebase",rw);class aw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const io=nw;function U0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=D0()),!i)throw Hs.create("no-options");const c=Gc.get(l);if(c){if(Lr(i,c.options)&&Lr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new fb(l);for(const y of $d.values())d.addComponent(y);const p=new aw(i,a,d);return Gc.set(l,p),p}function L0(s=Xd){const t=Gc.get(s);if(!t&&s===Xd&&D0())return U0();if(!t)throw Hs.create("no-app",{appName:s});return t}function Fs(s,t,i){let a=iw[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Xa(new Pr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ow="firebase-heartbeat-database",lw=1,Dl="firebase-heartbeat-store";let kd=null;function P0(){return kd||(kd=wb(ow,lw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hs.create("idb-open",{originalErrorMessage:s.message})})),kd}async function uw(s){try{const i=(await P0()).transaction(Dl),a=await i.objectStore(Dl).get(z0(s));return await i.done,a}catch(t){if(t instanceof ns)Zi.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function Z_(s,t){try{const a=(await P0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,z0(s)),await a.done}catch(i){if(i instanceof ns)Zi.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function z0(s){return`${s.name}!${s.options.appId}`}const cw=1024,hw=30;class fw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hw){const l=pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:a}=dw(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function dw(s,t=cw){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),tv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),tv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?eb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function pw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function gw(s){Xa(new Pr("platform-logger",t=>new Cb(t),"PRIVATE")),Xa(new Pr("heartbeat",t=>new fw(t),"PRIVATE")),Fs(Yd,$_,s),Fs(Yd,$_,"esm2020"),Fs("fire-js","")}gw("");var yw="firebase",_w="12.6.0";Fs(yw,_w,"app");function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vw=j0,B0=new Bl("auth","Firebase",j0());const Qc=new vm("@firebase/auth");function Ew(s,...t){Qc.logLevel<=Mt.WARN&&Qc.warn(`Auth (${io}): ${s}`,...t)}function Vc(s,...t){Qc.logLevel<=Mt.ERROR&&Qc.error(`Auth (${io}): ${s}`,...t)}function Jn(s,...t){throw Am(s,...t)}function Ai(s,...t){return Am(s,...t)}function q0(s,t,i){const a={...vw(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function Ji(s){return q0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return B0.create(s,...t)}function gt(s,t,...i){if(!s)throw Am(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Vc(t),new Error(t)}function Wi(s,t){s||Xi(t)}function Jd(){return typeof self<"u"&&self.location?.href||""}function Tw(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}function Aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tw()||$S()||"connection"in navigator)?navigator.onLine:!0}function Sw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=KS()||JS()}get(){return Aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class H0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ww=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rw=new Hl(3e4,6e4);function Ws(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function tr(s,t,i,a,l={}){return F0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return XS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(_.credentials="include"),H0.fetch()(await G0(s,s.config.apiHost,i,p),_)})}async function F0(s,t,i){s._canInitEmulator=!1;const a={...bw,...t};try{const l=new Cw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Cc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw q0(s,A,_);Jn(s,A)}}catch(l){if(l instanceof ns)throw l;Jn(s,"network-request-failed",{message:String(l)})}}async function Fl(s,t,i,a,l={}){const c=await tr(s,t,i,a,l);return"mfaPendingCredential"in c&&Jn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function G0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Sm(s.config,l):`${s.config.apiScheme}://${l}`;return ww.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Iw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),Rw.get())})}}function Cc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(s,t,a);return l.customData._tokenResponse=i,l}function nv(s){return s!==void 0&&s.enterprise!==void 0}class Nw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Iw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dw(s,t){return tr(s,"GET","/v2/recaptchaConfig",Ws(s,t))}async function xw(s,t){return tr(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return tr(s,"POST","/v1/accounts:lookup",t)}function wl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ow(s,t=!1){const i=We(s),a=await i.getIdToken(t),l=bm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:wl(Ud(l.auth_time)),issuedAtTime:wl(Ud(l.iat)),expirationTime:wl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=C0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function iv(s){const t=bm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&Mw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Mw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Vw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){const t=s.auth,i=await s.getIdToken(),a=await xl(s,Kc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Q0(l.providerUserInfo):[],d=Uw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function kw(s){const t=We(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Uw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Q0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Lw(s,t){const i=await F0(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await G0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(y.credentials="include"),H0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Pw(s,t){return tr(s,"POST","/v2/accounts:revokeToken",Ws(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Lw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Us(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Vw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ow(this,t)}reload(){return kw(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await xl(this,xw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:H,providerData:Z,stsTokenManager:et}=i;gt(S&&et,t,"internal-error");const W=Ha.fromJSON(this.name,et);gt(typeof S=="string",t,"internal-error"),Us(a,t.name),Us(l,t.name),gt(typeof V=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(y,t.name),Us(_,t.name),Us(A,t.name);const ut=new Xn({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ut.providerData=Z.map(dt=>({...dt}))),y&&(ut._redirectEventId=y),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Q0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const sv=new Map;function $i(s){Wi(s instanceof Function,"Expected a class definition");let t=sv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,sv.set(s,t),t)}class K0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}K0.type="NONE";const rv=K0;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa($i(rv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(rv);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await Kc(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Xn._fromGetAccountInfoResponse(t,V,A)}else S=Xn._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Fa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Fa(c,t,a))}}function av(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Y0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(W0(t))return"Blackberry";if(tE(t))return"Webos";if(X0(t))return"Safari";if((t.includes("chrome/")||$0(t))&&!t.includes("edge/"))return"Chrome";if(Z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Y0(s=Ze()){return/firefox\//i.test(s)}function X0(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $0(s=Ze()){return/crios\//i.test(s)}function J0(s=Ze()){return/iemobile/i.test(s)}function Z0(s=Ze()){return/android/i.test(s)}function W0(s=Ze()){return/blackberry/i.test(s)}function tE(s=Ze()){return/webos/i.test(s)}function wm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zw(s=Ze()){return wm(s)&&!!window.navigator?.standalone}function jw(){return ZS()&&document.documentMode===10}function eE(s=Ze()){return wm(s)||Z0(s)||tE(s)||W0(s)||/windows phone/i.test(s)||J0(s)}function nE(s,t=[]){let i;switch(s){case"Browser":i=av(Ze());break;case"Worker":i=`${av(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class Bw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qw(s,t={}){return tr(s,"GET","/v2/passwordPolicy",Ws(s,t))}const Hw=6;class Fw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Hw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Gw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new Bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Sw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Ji(this));const i=t?We(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qw(this),i=new Fw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Pw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ew(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hr(s){return We(s)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=ab(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qw(s){ch=s}function iE(s){return ch.loadJS(s)}function Kw(){return ch.recaptchaEnterpriseScript}function Yw(){return ch.gapiScript}function Xw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class $w{constructor(){this.enterprise=new Jw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Jw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Zw="recaptcha-enterprise",sE="NO_RECAPTCHA";class Ww{constructor(t){this.type=Zw,this.auth=Hr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Nw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;nv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(sE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $w().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&nv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Kw();y.length!==0&&(y+=p),iE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function lv(s,t,i,a=!1,l=!1){const c=new Ww(s);let d;if(l)d=sE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wd(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await lv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function t2(s,t){const i=Tm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Lr(c,t??{}))return l;Jn(l,"already-initialized")}return i.initialize({options:t})}function e2(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function n2(s,t,i){const a=Hr(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=rE(t),{host:d,port:p}=i2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Lr(_,a.config.emulator)&&Lr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(O0(`${c}//${d}${y}`),M0("Auth",!0)):s2()}function rE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function i2(s){const t=rE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:uv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:uv(d)}}}function uv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function s2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function r2(s,t){return tr(s,"POST","/v1/accounts:signUp",t)}async function a2(s,t){return Fl(s,"POST","/v1/accounts:signInWithPassword",Ws(s,t))}async function o2(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",Ws(s,t))}async function l2(s,t){return Fl(s,"POST","/v1/accounts:signInWithEmailLink",Ws(s,t))}class Ol extends Rm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ol(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Ol(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,i,"signInWithPassword",a2);case"emailLink":return o2(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wd(t,a,"signUpPassword",r2);case"emailLink":return l2(t,{idToken:i,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ga(s,t){return Fl(s,"POST","/v1/accounts:signInWithIdp",Ws(s,t))}const u2="http://localhost";class zr extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:u2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}function c2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(s){const t=_l(vl(s)).link,i=t?_l(vl(t)).deep_link_id:null,a=_l(vl(s)).deep_link_id;return(a?_l(vl(a)).link:null)||a||i||t||s}class Im{constructor(t){const i=_l(vl(t)),a=i.apiKey??null,l=i.oobCode??null,c=c2(i.mode??null);gt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=h2(t);try{return new Im(i)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(t,i){return Ol._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Im.parseLink(i);return gt(a,"argument-error"),Ol._fromEmailAndCode(t,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class aE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends aE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends Gl{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Ps extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends Gl{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends Gl{constructor(){super("twitter.com")}static credential(t,i){return zr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function f2(s,t){return Fl(s,"POST","/v1/accounts:signUp",Ws(s,t))}class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=cv(a);return new jr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=cv(a);return new jr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Xc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Xc(t,i,a,l)}}function oE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,t,a):c})}async function d2(s,t,i=!1){const a=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return jr._forOperation(s,"link",a)}async function m2(s,t,i=!1){const{auth:a}=s;if(Vn(a.app))return Promise.reject(Ji(a));const l="reauthenticate";try{const c=await xl(s,oE(a,l,t,s),i);gt(c.idToken,a,"internal-error");const d=bm(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),jr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(a,"user-mismatch"),c}}async function lE(s,t,i=!1){if(Vn(s.app))return Promise.reject(Ji(s));const a="signIn",l=await oE(s,a,t),c=await jr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function p2(s,t){return lE(Hr(s),t)}async function uE(s){const t=Hr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function g2(s,t,i){if(Vn(s.app))return Promise.reject(Ji(s));const a=Hr(s),d=await Wd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&uE(s),y}),p=await jr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function y2(s,t,i){return Vn(s.app)?Promise.reject(Ji(s)):p2(We(s),so.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&uE(s),a})}function _2(s,t,i,a){return We(s).onIdTokenChanged(t,i,a)}function v2(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function E2(s,t,i,a){return We(s).onAuthStateChanged(t,i,a)}function T2(s){return We(s).signOut()}const $c="__sak";class cE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const A2=1e3,S2=10;class hE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,S2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}hE.type="LOCAL";const b2=hE;class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}fE.type="SESSION";const dE=fE;function w2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await w2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Cm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class R2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Cm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function I2(s){Si().location.href=s}function mE(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function C2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){return navigator?.serviceWorker?.controller||null}function D2(){return mE()?self:null}const pE="firebaseLocalStorageDb",x2=1,Jc="firebaseLocalStorage",gE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function O2(){const s=indexedDB.deleteDatabase(pE);return new Ql(s).toPromise()}function tm(){const s=indexedDB.open(pE,x2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:gE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await O2(),t(await tm()))})})}async function hv(s,t,i){const a=fh(s,!0).put({[gE]:t,value:i});return new Ql(a).toPromise()}async function M2(s,t){const i=fh(s,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function fv(s,t){const i=fh(s,!0).delete(t);return new Ql(i).toPromise()}const V2=800,k2=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>k2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(D2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await hv(t,$c,"1"),await fv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>M2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const U2=yE;new Hl(3e4,6e4);function L2(s,t){return t?$i(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Nm extends Rm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function P2(s){return lE(s.auth,new Nm(s),s.bypassAuthState)}function z2(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),m2(i,new Nm(s),s.bypassAuthState)}async function j2(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),d2(i,new Nm(s),s.bypassAuthState)}class _E{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:Jn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B2=new Hl(2e3,1e4);class qa extends _E{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,B2.get())};t()}}qa.currentPopupAction=null;const q2="pendingRedirect",Uc=new Map;class H2 extends _E{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await F2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(s,t){const i=K2(t),a=Q2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function G2(s,t){Uc.set(s._key(),t)}function Q2(s){return $i(s._redirectPersistence)}function K2(s){return kc(q2,s.config.apiKey,s.name)}async function Y2(s,t,i=!1){if(Vn(s.app))return Promise.reject(Ji(s));const a=Hr(s),l=L2(a,t),d=await new H2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const X2=600*1e3;class $2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!J2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!vE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(t))}saveEventToCache(t){this.cachedEventUids.add(dv(t)),this.lastProcessedEventTime=Date.now()}}function dv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function vE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function J2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}async function Z2(s,t={}){return tr(s,"GET","/v1/projects",t)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Z2(s);for(const i of t)try{if(nR(i))return}catch{}Jn(s,"unauthorized-domain")}function nR(s){const t=Jd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tR.test(i))return!1;if(W2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const iR=new Hl(3e4,6e4);function mv(){const s=Si().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sR(s){return new Promise((t,i)=>{function a(){mv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(Ai(s,"network-request-failed"))},timeout:iR.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=Xw("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Ai(s,"network-request-failed"))},iE(`${Yw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function rR(s){return Lc=Lc||sR(s),Lc}const aR=new Hl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Sm(t,lR):`https://${s.config.authDomain}/${oR}`,a={apiKey:t.apiKey,appName:s.name,v:io},l=cR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function fR(s){const t=await rR(s),i=Si().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:hR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(s,"network-request-failed"),p=Si().setTimeout(()=>{c(d)},aR.get());function y(){Si().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(s,t,i,a=mR,l=pR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...dR,width:a.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=$0(_)?gR:i),Y0(_)&&(t=t||yR,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[H,Z])=>`${V}${H}=${Z},`,"");if(zw(_)&&p!=="_self")return vR(t||"",p),new pv(null);const S=window.open(t||"",p,A);gt(S,s,"popup-blocked");try{S.focus()}catch{}return new pv(S)}function vR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ER="__/auth/handler",TR="emulator/auth/handler",AR=encodeURIComponent("fac");async function gv(s,t,i,a,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof aE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",rb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Gl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${AR}=${encodeURIComponent(y)}`:"";return`${SR(s)}?${ql(p).slice(1)}${_}`}function SR({config:s}){return s.emulator?Sm(s,TR):`https://${s.authDomain}/${ER}`}const Ld="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=Y2,this._overrideRedirectResult=G2}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gv(t,i,a,Jd(),l);return _R(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await gv(t,i,a,Jd(),l);return I2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fR(t),a=new $2(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},l=>{const c=l?.[0]?.[Ld];c!==void 0&&i(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return eE()||X0()||wm()}}const wR=bR;var yv="@firebase/auth",_v="1.11.1";class RR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(s){Xa(new Pr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(s)},_=new Gw(a,l,c,y);return e2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Pr("auth-internal",t=>{const i=Hr(t.getProvider("auth").getImmediate());return(a=>new RR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(yv,_v,IR(s)),Fs(yv,_v,"esm2020")}const NR=300,DR=x0("authIdTokenMaxAge")||NR;let vv=null;const xR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>DR)return;const l=i?.token;vv!==l&&(vv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OR(s=L0()){const t=Tm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=t2(s,{popupRedirectResolver:wR,persistence:[U2,b2,dE]}),a=x0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=xR(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,p=>d(p))}}const l=N0("auth");return l&&n2(i,`http://${l}`),i}function MR(){return document.getElementsByTagName("head")?.[0]??document}Qw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",MR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,EE;(function(){var s;function t(C,b){function w(){}w.prototype=b.prototype,C.F=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,N,U){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return b.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,w){w||(w=0);const O=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)O[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)O[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],N=C.g[2];let U=C.g[3],R;R=b+(U^w&(N^U))+O[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(N^b&(w^N))+O[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(w^U&(b^w))+O[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(b^N&(U^b))+O[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=b+(U^w&(N^U))+O[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(N^b&(w^N))+O[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(w^U&(b^w))+O[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(b^N&(U^b))+O[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=b+(U^w&(N^U))+O[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(N^b&(w^N))+O[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(w^U&(b^w))+O[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(b^N&(U^b))+O[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=b+(U^w&(N^U))+O[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=U+(N^b&(w^N))+O[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(w^U&(b^w))+O[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(b^N&(U^b))+O[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=b+(N^U&(w^N))+O[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(b^w))+O[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^w&(U^b))+O[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(N^U))+O[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(w^N))+O[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(b^w))+O[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^w&(U^b))+O[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(N^U))+O[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(w^N))+O[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(b^w))+O[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^w&(U^b))+O[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(N^U))+O[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(w^N))+O[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(b^w))+O[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^w&(U^b))+O[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^b&(N^U))+O[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=b+(w^N^U)+O[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^N)+O[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^w)+O[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^b)+O[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=b+(w^N^U)+O[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^N)+O[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^w)+O[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^b)+O[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=b+(w^N^U)+O[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^N)+O[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^w)+O[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^b)+O[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=b+(w^N^U)+O[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=U+(b^w^N)+O[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^w)+O[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^b)+O[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=b+(N^(w|~U))+O[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~N))+O[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~w))+O[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~b))+O[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=b+(N^(w|~U))+O[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~N))+O[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~w))+O[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~b))+O[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=b+(N^(w|~U))+O[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~N))+O[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~w))+O[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~b))+O[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=b+(N^(w|~U))+O[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=U+(w^(b|~N))+O[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~w))+O[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const w=b-this.blockSize,O=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(O[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,O),N=0;break}}else for(;U<b;)if(O[N++]=C[U++],N==this.blockSize){l(this,O),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[b++]=this.g[w]>>>O&255;return C};function c(C,b){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function d(C,b){this.h=b;const w=[];let O=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;O&&U==b||(w[N]=U,O=!1)}this.g=w}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(_(-C));const b=[];let w=1;for(let O=0;C>=w;O++)b[O]=C/w|0,w*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let O=S;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),b);N<8?(N=_(Math.pow(b,N)),O=O.j(N).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var S=y(0),V=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-W(this).m();let C=0,b=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+W(this).toString(C);const b=_(Math.pow(C,6));var w=this;let O="";for(;;){const N=Et(w,b).g;w=ut(w,N.j(b));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=N,Z(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}s.l=function(C){return C=ut(this,C),et(C)?-1:Z(C)?0:1};function W(C){const b=C.g.length,w=[];for(let O=0;O<b;O++)w[O]=~C.g[O];return new d(w,~C.h).add(V)}s.abs=function(){return et(this)?W(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let N=0;N<=b;N++){let U=O+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=R>>>16,U&=65535,R&=65535,w[N]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ut(C,b){return C.add(W(b))}s.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?W(this).j(W(C)):W(W(this).j(C));if(et(C))return W(this.j(W(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,w=[];for(var O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const U=this.i(O)>>>16,R=this.i(O)&65535,Wt=C.i(N)>>>16,ue=C.i(N)&65535;w[2*O+2*N]+=R*ue,dt(w,2*O+2*N),w[2*O+2*N+1]+=U*ue,dt(w,2*O+2*N+1),w[2*O+2*N+1]+=R*Wt,dt(w,2*O+2*N+1),w[2*O+2*N+2]+=U*Wt,dt(w,2*O+2*N+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new d(w,0)};function dt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ct(C,b){this.g=C,this.h=b}function Et(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new ct(S,S);if(et(C))return b=Et(W(C),b),new ct(W(b.g),W(b.h));if(et(b))return b=Et(C,W(b)),new ct(W(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var w=V,O=b;O.l(C)<=0;)w=qt(w),O=qt(O);var N=St(w,1),U=St(O,1);for(O=St(O,2),w=St(w,2);!Z(O);){var R=U.add(O);R.l(C)<=0&&(N=N.add(w),U=R),O=St(O,1),w=St(w,1)}return b=ut(C,N.j(b)),new ct(N,b)}for(N=S;C.l(b)>=0;){for(w=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),R=U.j(b);et(R)||R.l(C)>0;)w-=O,U=_(w),R=U.j(b);Z(U)&&(U=V),N=N.add(U),C=ut(C,R)}return new ct(N,C)}s.B=function(C){return Et(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)&C.i(O);return new d(w,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)|C.i(O);return new d(w,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)^C.i(O);return new d(w,this.h^C.h)};function qt(C){const b=C.g.length+1,w=[];for(let O=0;O<b;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(w,C.h)}function St(C,b){const w=b>>5;b%=32;const O=C.g.length-w,N=[];for(let U=0;U<O;U++)N[U]=b>0?C.i(U+w)>>>b|C.i(U+w+1)<<32-b:C.i(U+w);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,EE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Gs=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,El,AE,Pc,em,SE,bE,wE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const T=ct.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new et(()=>new Et,u=>u.reset());class Et{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,St=!1,C=new dt,b=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(w)}};function w(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){W(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}St=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,N),Wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),F=0;function Q(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Rt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new Q(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(it(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,L);return null}return v=fo(v),u&&u[ue]?u.J(m,v,p(T)?!!T.capture:!1,L):er(u,m,v,!1,T,L)}function er(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let bt=nr(u);if(bt||(u[Lt]=bt=new st(u)),v=bt.add(m,v,T,tt,B),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Xr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xr(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=fo(v),u&&u[ue]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,L),v>-1&&(it(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,L)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])mt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=nr(m))?(mt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):it(u)}}}function Wn(u){return u in De?De[u]:De[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function nr(u){return u=u[Lt],u instanceof st?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function _e(){O.call(this),this.i=new st(this),this.M=this,this.G=null}S(_e,O),_e.prototype[ue]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=is(B,T,!0,m)&&L;if(B=m.g=u,L=is(B,T,!0,m)&&L,L=is(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=is(B,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)it(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,me=tt.ha||tt.src;tt.fa&&mt(u.i,tt),L=bt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(u){O.call(this),this.h=u,this.g={}}S(ir,O);var mo=[];function po(u){_t(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}ir.prototype.N=function(){ir.Z.N.call(this),po(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Ih=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function Tn(){N.call(this,"c")}S(Tn,N);var de={},iu=null;function Jr(){return iu=iu||new _e}de.Ia="serverreachability";function su(u){N.call(this,de.Ia,u)}S(su,N);function ti(u){const m=Jr();xe(m,new su(m))}de.STAT_EVENT="statevent";function sr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}S(sr,N);function ve(u){const m=Jr();xe(m,new sr(m,u))}de.Ja="timingevent";function ei(u,m){N.call(this,de.Ja,u),this.size=m}S(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ch(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Ht=0;Ht<bt.length;Ht++){var me=bt[Ht].split("=");if(me.length>1){const oe=me[0];me=me[1];const wn=oe.split("_");tt=wn.length>=2&&wn[1]=="type"?tt+(oe+"="+me+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(T?" "+T:"")})}function rr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ss(B)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function or(){}S(or,eu),or.prototype.g=function(){return new XMLHttpRequest},yo=new or;function Di(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function si(u,m,v){u.M=1,u.A=lr(Ae(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(mo[0]=L.toString()),L=mo);for(let B=0;B<L.length;B++){const tt=ae(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||bt!=4||me==7||(me==8||Ht<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),An(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=lu(this,v),oe==ke){bt==4&&(this.m=4,ve(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,oe,null),oi(this,oe);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Oo(tt),tt.P=!0,ve(11))}}else ii(this.i,this.l,v,null),oi(this,v);bt==4&&fn(this),this.o&&!this.K&&(bt==4?yu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),An(this)}}}catch{}finally{}};function Dh(u){if(!ou(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rr(this.i,this.B),this.M!=2&&(ti(),ve(17)),fn(this),this.m=2,An(this)):Wr(this,this.T-u)};function An(u){u.j.I==0||u.K||yu(u.j,u)}function fn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),fs(v);else break t;pr(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const oe=Ht[0];if(!(oe<=v.K))if(v.K=oe,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const wn=Ht[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const gi=Ht[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Fn=Ht[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=T.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const la=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Qt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var bt=tt,me=T.O;me&&(bt.H=me),bt.D&&(ai(bt),ri(bt)),T.g=tt}else pu(T);v.i.length>0&&mi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(v,7):Do(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ti(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,So(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ur(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ur(m,ea,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ur(v,v.charAt(0)=="/"?bo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ur(v,hu)),u.join("")},dn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const bt=L[tt++];bt=="."?T&&tt==L.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?So(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new dn(u)}function Ue(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof os?(u.i=m,ia(u.i,u.l)):(v||(m=ur(m,as)),u.i=new os(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function lr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,cu=/[#\?:]/g,bo=/[#\?]/g,as=/[#\?@]/g,hu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){rn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){rn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return rn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ro(u,m){rn(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=ls(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Di(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Di(v[B])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(fu(this,T),na(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Io(u,m){const v=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function us(){this.g=new tu}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,eu),hi.prototype.g=function(){return new cr(this.i,this.h)};function cr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(cr,_e),s=cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return _t(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function hr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=bn(v),typeof u=="string"?v!=null&&Di(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var fi=/^https?$/i,Co=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fr(this,B)}};function fr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),xi(u)}function No(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},s.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ct(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),mi(this)};function Do(u){if(ra(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),mr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=lr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}vu(u)}function fs(u){u.g&&(Oo(u),u.g.cancel(),u.g=null)}function ra(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||b(),St||(qt(),St=!0),C.add(m,u),u.D=0}}function aa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,L,m),v=Ae(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),mr(this,v),B&&(this.R?m="headers="+Di(bn(B))+"&"+m:this.u&&hr(v,this.u,B)),Eo(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,si(L,v,null)):si(L,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||vo(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),mr(u,T),u.u&&u.o&&hr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),si(v,T,m)}function mr(u,m){u.H&&_t(u.H,function(v,T){Qt(m,T,v)}),u.l&&_t({},function(v,T){Qt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=L[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Ht=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const wn=L[oe].map;if(B-=bt,B<0)bt=Math.max(0,L[oe].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Fn]of tt){let Gn=Fn;p(Fn)&&(Gn=ss(Fn)),me.push(B+gi+"="+encodeURIComponent(Gn))}}catch(gi){throw me.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(Ht){tt=me.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||b(),St||(qt(),St=!0),C.add(m,u),u.A=0}}function pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),fs(this),gu(this))};function Oo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),mr(u,m),u.u&&u.o&&hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=lr(Ae(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),pr(this),ve(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){oa(u),Oo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),xe(T,new ei(T,v)),mi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),lr(T),L?Bn(T.toString(),v):Io(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),vu(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof dn?Ae(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new dn(null);T&&Ue(B,T),m&&(B.g=m),L&&rs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),mr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new hi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Do(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,en.Z.N.call(this)};function Su(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,ze);function bu(){Tn.call(this),this.status=1}S(bu,Tn);function Mi(u){this.g=u}S(Mi,Au),Mi.prototype.ra=function(){xe(this.g,"a")},Mi.prototype.qa=function(u){xe(this.g,new Su(u))},Mi.prototype.pa=function(u){xe(this.g,new bu)},Mi.prototype.oa=function(){xe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,wE=function(){return new ds},bE=function(){return Jr()},SE=de,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Pc=ar,go.COMPLETE="complete",AE=go,nu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,El=nu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,TE=Xt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Av="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ro="12.3.0";const Br=new vm("@firebase/firestore");function Pa(){return Br.logLevel}function rt(s,...t){if(Br.logLevel<=Mt.DEBUG){const i=t.map(Dm);Br.debug(`Firestore (${ro}): ${s}`,...i)}}function ts(s,...t){if(Br.logLevel<=Mt.ERROR){const i=t.map(Dm);Br.error(`Firestore (${ro}): ${s}`,...i)}}function $a(s,...t){if(Br.logLevel<=Mt.WARN){const i=t.map(Dm);Br.warn(`Firestore (${ro}): ${s}`,...i)}}function Dm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,RE(s,a,i)}function RE(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||RE(t,l,a)}function At(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class kR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class LR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new LR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=jR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Pd(l)===Pd(c)?Vt(l,c):Pd(l)?1:-1}return Vt(s.length,t.length)}const BR=55296,qR=57343;function Pd(s){const t=s.charCodeAt(0);return t>=BR&&t<=qR}function Ja(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const bv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ee extends Ti{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return HR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bv}static keyField(){return new Qe([bv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}function CE(s,t,i){if(!i)throw new at($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function FR(s,t,i,a){if(t===!0&&a===!0)throw new at($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function wv(s){if(!ft.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Rv(s){if(ft.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function NE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Qa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ne(s,t){const i={typeString:s};return t&&(i.value=t),i}function Kl(s,t){if(!NE(s))throw new at($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at($.INVALID_ARGUMENT,i);return!0}const Iv=-62135596800,Cv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Cv);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Iv)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ne("string",se._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function GR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Ks(l,ft.empty(),t)}function QR(s){return new Ks(s.readTime,s.key,Ml)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(vt.min(),ft.empty(),Ml)}static max(){return new Ks(vt.max(),ft.empty(),Ml)}}function KR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==YR)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $R(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Om=-1;function ph(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function JR(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DE="";function ZR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Nv(t)),t=WR(s.get(i),t);return Nv(t)}function WR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function Nv(s){return s+DE+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function xE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const tI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=tI.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const ME="server_timestamp",VE="__type__",kE="__previous_value__",UE="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[VE]?.stringValue===ME}function gh(s){const t=s.mapValue.fields[kE];return Mm(t)?gh(t):t}function Vl(s){const t=Ys(s.mapValue.fields[UE].timestampValue);return new se(t.seconds,t.nanos)}class eI{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Wc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const LE="__type__",nI="__max__",xc={mapValue:{}},PE="__vector__",th="value";function $s(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:sI(s)?9007199254740991:iI(s)?10:11:yt(28295,{value:s})}function Ni(s,t){if(s===t)return!0;const i=$s(s);if(i!==$s(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Vl(s).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),p=Ys(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ja(s.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ni(d[y],p[y])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Ni(i,t)))!==void 0}function Za(s,t){if(s===t)return 0;const i=$s(s),a=$s(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Ov(s.timestampValue,t.timestampValue);case 4:return Ov(Vl(s),Vl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),y=Xs(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Vt(p[_],y[_]);if(A!==0)return A}return Vt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ye(c.latitude),ye(d.latitude));return p!==0?p:Vt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Mv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[th]?.arrayValue,A=y[th]?.arrayValue,S=Vt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Mv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=nm(y[S],A[S]);if(V!==0)return V;const H=Za(p[y[S]],_[A[S]]);if(H!==0)return H}return Vt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Ov(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Ys(s),a=Ys(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function Mv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Wa(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function zc(s){switch($s(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Fr(a.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function Vv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function sm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function kv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function iI(s){return(s?.mapValue?.fields||{})[LE]?.stringValue===PE}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Rl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function sI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nI}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new kn(Rl(this.value))}}function zE(s){const t=[];return Fr(s.fields,((i,a)=>{const l=new Qe([i]);if(jc(a)){const c=zE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),kn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),kn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function rI(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class jE{}class Ce extends jE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new oI(t,i,a):i==="array-contains"?new cI(t,a):i==="in"?new hI(t,a):i==="not-in"?new fI(t,a):i==="array-contains-any"?new dI(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new lI(t,a):new uI(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends jE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Zn(t,i)}matches(t){return BE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(s){return s.op==="and"}function qE(s){return aI(s)&&BE(s)}function aI(s){for(const t of s.filters)if(t instanceof Zn)return!1;return!0}function rm(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(qE(s))return s.filters.map((t=>rm(t))).join(",");{const t=s.filters.map((i=>rm(i))).join(",");return`${s.op}(${t})`}}function HE(s,t){return s instanceof Ce?(function(a,l){return l instanceof Ce&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(s,t):s instanceof Zn?(function(a,l){return l instanceof Zn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&HE(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function FE(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(FE).join(" ,")+"}"})(s):"Filter"}class oI extends Ce{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class lI extends Ce{constructor(t,i){super(t,"in",i),this.keys=GE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class uI extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=GE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function GE(s,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class cI extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ul(i.arrayValue,this.value)}}class hI extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class fI extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class dI extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class mI{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function zv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new mI(s,t,i,a,l,c,d)}function km(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rI(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!HE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Pv(s.startAt,t.startAt)&&Pv(s.endAt,t.endAt)}function am(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Yl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pI(s,t,i,a,l,c,d,p){return new Yl(s,t,i,a,l,c,d,p)}function Lm(s){return new Yl(s)}function jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function QE(s){return s.collectionGroup!==null}function Il(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new nh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new nh(Qe.keyField(),a))}return t.Ie}function bi(s){const t=At(s);return t.Ee||(t.Ee=gI(t,Il(s))),t.Ee}function gI(s,t){if(s.limitType==="F")return zv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nh(l.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return zv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function om(s,t){const i=s.filters.concat([t]);return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function lm(s,t,i){return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Um(bi(s),bi(t))&&s.limitType===t.limitType}function KE(s){return`${km(bi(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>FE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const _=Lv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(s,t)}function yI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YE(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=_I(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function _I(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Za(y,_):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}const vI=new ce(ft.comparator);function es(){return vI}const XE=new ce(ft.comparator);function Tl(...s){let t=XE;for(const i of s)t=t.insert(i.key,i);return t}function $E(s){let t=XE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Mr(){return Cl()}function JE(){return Cl()}function Cl(){return new Gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const EI=new ce(ft.comparator),TI=new Ve(ft.comparator);function kt(...s){let t=TI;for(const i of s)t=t.add(i);return t}const AI=new Ve(Vt);function SI(){return AI}function Pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function ZE(s){return{integerValue:""+s}}function bI(s,t){return JR(t)?ZE(t):Pm(s,t)}class vh{constructor(){this._=void 0}}function wI(s,t,i){return s instanceof Ll?(function(l,c){const d={fields:{[VE]:{stringValue:ME},[UE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=gh(c)),c&&(d.fields[kE]=c),{mapValue:d}})(i,t):s instanceof Pl?tT(s,t):s instanceof zl?eT(s,t):(function(l,c){const d=WE(l,c),p=Bv(d)+Bv(l.Ae);return sm(d)&&sm(l.Ae)?ZE(p):Pm(l.serializer,p)})(s,t)}function RI(s,t,i){return s instanceof Pl?tT(s,t):s instanceof zl?eT(s,t):i}function WE(s,t){return s instanceof ih?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ll extends vh{}class Pl extends vh{constructor(t){super(),this.elements=t}}function tT(s,t){const i=nT(t);for(const a of s.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends vh{constructor(t){super(),this.elements=t}}function eT(s,t){let i=nT(t);for(const a of s.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class ih extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(s){return ye(s.integerValue||s.doubleValue)}function nT(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class II{constructor(t,i){this.field=t,this.transform=i}}function CI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof zl&&l instanceof zl?Ja(a.elements,l.elements,Ni):a instanceof ih&&l instanceof ih?Ni(a.Ae,l.Ae):a instanceof Ll&&l instanceof Ll})(s.transform,t.transform)}class NI{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function iT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new zm(s.key,wi.none()):new Xl(s.key,s.data,wi.none());{const i=s.data,a=kn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Qr(s.key,a,new $n(l.toArray()),wi.none())}}function DI(s,t,i){s instanceof Xl?(function(l,c,d){const p=l.value.clone(),y=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Qr?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(sT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Xl?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),A=Fv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Qr?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=Fv(c.fieldTransforms,y,d),A=d.data;return A.setAll(sT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function xI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=WE(a.transform,l||null);c!=null&&(i===null&&(i=kn.empty()),i.set(a.field,c))}return i||null}function qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ja(a,l,((c,d)=>CI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Xl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Hv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,RI(d,p,i[l]))}return a}function Fv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,wI(c,d,t))}return a}class zm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OI extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&DI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=iT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>qv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>qv(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return EI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}class VI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Pt;function UI(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function rT(s){if(s===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ie.OK:return $.OK;case Ie.CANCELLED:return $.CANCELLED;case Ie.UNKNOWN:return $.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return $.INTERNAL;case Ie.UNAVAILABLE:return $.UNAVAILABLE;case Ie.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ie.NOT_FOUND:return $.NOT_FOUND;case Ie.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ie.ABORTED:return $.ABORTED;case Ie.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ie.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(Pt=Ie||(Ie={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function LI(){return new TextEncoder}const PI=new Gs([4294967295,4294967295],0);function Gv(s){const t=LI().encode(s),i=new EE;return i.update(t),new Uint8Array(i.digest())}function Qv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,a],0),new Gs([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gs.fromNumber(a)));return l.compare(PI)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[a,l]=Qv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(vt.min(),l,new ce(Vt),es(),kt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,kt(),kt(),kt())}}class qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class aT{constructor(t,i){this.targetId=t,this.Ce=i}}class oT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Kv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zI{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new ft(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(a).toUint8Array()}catch(y){if(y instanceof OE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,l,c)}catch(y){return $a(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const y=new ft(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Oc(),this.He=Oc(),this.Ye=new ce(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Kv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Kv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new ce(ft.comparator)}function Yv(){return new ce(ft.comparator)}const jI={asc:"ASCENDING",desc:"DESCENDING"},BI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qI={and:"AND",or:"OR"};class HI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function sh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function FI(s,t){return sh(s,t.toTimestamp())}function Ri(s){return Gt(!!s,49232),vt.fromTimestamp((function(i){const a=Ys(i);return new se(a.seconds,a.nanos)})(s))}function qm(s,t){return cm(s,t).canonicalString()}function cm(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function uT(s){const t=ee.fromString(s);return Gt(mT(t),10190,{key:t.toString()}),t}function hm(s,t){return qm(s.databaseId,t.path)}function zd(s,t){const i=uT(t);if(i.get(1)!==s.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(hT(i))}function cT(s,t){return qm(s.databaseId,t)}function GI(s){const t=uT(s);return t.length===4?ee.emptyPath():hT(t)}function fm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function hT(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,t,i){return{name:hm(s,t),fields:i.value.mapValue.fields}}function QI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:rT(_.code);return new at(A,_.message||"")})(d);i=new oT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):vt.min(),p=new kn({mapValue:{fields:a.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),c=a.readTime?Ri(a.readTime):vt.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new kI(l,c),p=a.targetId;i=new aT(p,d)}}return i}function KI(s,t){let i;if(t instanceof Xl)i={update:Xv(s,t.key,t.value)};else if(t instanceof zm)i={delete:hm(s,t.key)};else if(t instanceof Qr)i={update:Xv(s,t.key,t.data),updateMask:nC(t.fieldMask)};else{if(!(t instanceof OI))return yt(16599,{Vt:t.type});i={verify:hm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function YI(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(vt.min())&&(d=Ri(c)),new NI(d,l.transformResults||[])})(i,t)))):[]}function XI(s,t){return{documents:[cT(s,t.path)]}}function $I(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=cT(s,l);const c=(function(_){if(_.length!==0)return dT(Zn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ja(V.field),direction:WI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function JI(s){let t=GI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=fT(S);return V instanceof Zn&&qE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(Z){return new nh(Ba(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,ph(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,H=S.values||[];return new eh(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,H=S.values||[];return new eh(H,V)})(i.endAt)),pI(t,l,d,c,p,"F",y,_)}function ZI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function fT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((a=>fT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function WI(s){return jI[s]}function tC(s){return BI[s]}function eC(s){return qI[s]}function ja(s){return{fieldPath:s.canonicalString()}}function Ba(s){return Qe.fromServerFormat(s.fieldPath)}function dT(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(kv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(kv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:tC(i.op),value:i.value}}})(s):s instanceof Zn?(function(i){const a=i.getFilters().map((l=>dT(l)));return a.length===1?a[0]:{compositeFilter:{op:eC(i.op),filters:a}}})(s):yt(54877,{filter:s})}function nC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function mT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Bs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class iC{constructor(t){this.yt=t}}function sC(s){const t=JI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(t,t.limit,"L"):t}class rC{constructor(){this.Cn=new aC}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Ks.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class aC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(pT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const Jv="LruGarbageCollector",oC=1048576;function Zv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class lC{constructor(t){this.Ir=t,this.buffer=new Ve(Zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Jv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class cC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(mh.ce);const a=new lC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($v)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Pa()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function hC(s,t){return new cC(s,t)}class fC{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Mr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Mr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Qr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Nl(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new dC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Cl();let l=new ce(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||$n.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(l.get(p.batchId)||kt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=JE();A.forEach((V=>{if(!c.has(V)){const H=iT(i.get(V),a.get(V));H!==null&&S.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(Mr());let p=Ml,y=c;return d.next((_=>J.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,kt()))).next((A=>({batchId:p,changes:$E(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(y=>{const _=(function(S,V){return new Yl(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=Tl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Nl(A.mutation,_,$n.empty(),se.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}class pC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:sC(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),J.resolve()}}class gC{constructor(){this.overlays=new ce(ft.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Mr();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=Mr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Mr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Mr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return J.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new VI(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class yC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Hm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ee([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ee([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class _C{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ft(c),0);let p=new Ve(Vt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vC{constructor(t){this.ri=t,this.docs=(function(){return new ce(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||KR(QR(A),a)<=0||(l.has(A.key)||_h(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new EC(this)}getSize(t){return J.resolve(this.size)}}class EC extends fC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class TC{constructor(t){this.persistence=t,this.si=new Gr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class gT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new yC,this.referenceDelegate=t(this),this.Pi=new TC(this),this.indexManager=new rC,this.remoteDocumentCache=(function(l){return new vC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iC(i),this.Ii=new pC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new _C(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new AC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class AC extends XR{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>ZR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=hC(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,a){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class SC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class bC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:$R(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new SC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Pa()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Pa()<=Mt.DEBUG&&rt("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Pa()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):J.resolve())}ys(t,i){if(jv(i))return J.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return jv(i)||l.isEqual(vt.min())?J.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?J.resolve(null):(Pa()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,GR(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new Ve(YE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Pa()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ks.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",wC=3e8;class RC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Vt),this.xs=new Gr((c=>km(c)),Um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function IC(s,t,i,a){return new RC(s,t,i,a)}async function yT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=kt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function CC(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let H=J.resolve();return V.forEach((Z=>{H=H.next((()=>A.getEntry(y,Z))).next((et=>{const W=_.docVersions.get(Z);Gt(W!==null,48541),et.version.compareTo(W)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function _T(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function NC(s,t){const i=At(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(S,H),(function(et,W,ut){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=wC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(V,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let y=es(),_=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(DC(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function DC(s,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function xC(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function OC(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function dm(s,t,i){const a=At(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Wv(s,t,i){const a=At(s);let l=vt.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=At(y),V=S.xs.get(A);return V!==void 0?J.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(a,d,bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:kt()))).next((p=>(MC(a,yI(t),p),{documents:p,Qs:c})))))}function MC(s,t,i){let a=s.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class t0{constructor(){this.activeTargetIds=SI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VC{constructor(){this.Mo=new t0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new t0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kC{Oo(t){}shutdown(){}}const e0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(e0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(e0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function mm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const jd="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=mm(),p=this.zo(t,i.toUriEncodedString());rt(jd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=no(_);return this.Jo(t,p,y,a,A).then((S=>(rt(jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=UC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class PC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class zC extends LC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=mm();return new Promise(((p,y)=>{const _=new TE;_.setWithCredentials(!0),_.listenOnce(AE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();rt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Pc.TIMEOUT:rt(Xe,`RPC '${t}' ${d} timed out`),y(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=_.getStatus();if(rt(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const et=(function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN})(Z.status);y(new at(et,Z.message))}else y(new at($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=wE(),p=bE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");rt(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let V=!1,H=!1;const Z=new PC({Yo:W=>{H?rt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(V||(rt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),rt(Xe,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),et=(W,ut,dt)=>{W.listen(ut,(ct=>{try{dt(ct)}catch(Et){setTimeout((()=>{throw Et}),0)}}))};return et(S,El.EventType.OPEN,(()=>{H||(rt(Xe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(S,El.EventType.CLOSE,(()=>{H||(H=!0,rt(Xe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),et(S,El.EventType.ERROR,(W=>{H||(H=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new at($.UNAVAILABLE,"The operation could not be completed")))})),et(S,El.EventType.MESSAGE,(W=>{if(!H){const ut=W.data[0];Gt(!!ut,16349);const dt=ut,ct=dt?.error||dt[0]?.error;if(ct){rt(Xe,`RPC '${t}' stream ${l} received error:`,ct);const Et=ct.status;let qt=(function(b){const w=Ie[b];if(w!==void 0)return rT(w)})(Et),St=ct.message;qt===void 0&&(qt=$.INTERNAL,St="Unknown error status: "+Et+" with message "+ct.message),H=!0,Z.a_(new at(qt,St)),S.close()}else rt(Xe,`RPC '${t}' stream ${l} received:`,ut),Z.u_(ut)}})),et(p,SE.STAT_EVENT,(W=>{W.stat===em.PROXY?rt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===em.NOPROXY&&rt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Bd(){return typeof document<"u"?document:null}function Ah(s){return new HI(s,!0)}class vT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const i0="PersistentStream";class ET{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(i0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jC extends ET{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=QI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=am(y)?{documents:XI(c,y)}:{query:$I(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=lT(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=ZI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.q_(i)}}class BC extends ET{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=YI(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>KI(this.serializer,a)))};this.q_(i)}}class qC{}class HC extends qC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class GC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(rt(qr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Jl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new FC(a,l)}}async function Sh(s){if(Kr(s))for(const t of s.da)await t(!0)}async function Jl(s){for(const t of s.da)await t(!1)}function TT(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):lo(i).O_()&&Ym(i,t))}function Km(s,t){const i=At(s),a=lo(i);i.Ia.delete(t),a.O_()&&AT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Ra.set("Unknown"))}function Ym(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function AT(s,t){s.Va.Ue(t),lo(s).Z_(t)}function Xm(s){s.Va=new zI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function $m(s){return Kr(s)&&!lo(s).x_()&&s.Ia.size>0}function Kr(s){return At(s).Ea.size===0}function ST(s){s.Va=void 0}async function QC(s){s.Ra.set("Online")}async function KC(s){s.Ia.forEach(((t,i)=>{Ym(s,t)}))}async function YC(s,t){ST(s),$m(s)?(s.Ra.ha(t),Xm(s)):s.Ra.set("Unknown")}async function XC(s,t,i){if(s.Ra.set("Online"),t instanceof oT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){rt(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(s,a)}else if(t instanceof qc?s.Va.Ze(t):t instanceof aT?s.Va.st(t):s.Va.tt(t),!i.isEqual(vt.min()))try{const a=await _T(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),AT(c,y);const S=new Bs(A.target,y,_,A.sequenceNumber);Ym(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt(qr,"Failed to raise snapshot:",a),await ah(s,a)}}async function ah(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),i||(i=()=>_T(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function bT(s,t){return t().catch((i=>ah(s,i,t)))}async function bh(s){const t=At(s),i=Js(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;$C(t);)try{const l=await xC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,JC(t,l)}catch(l){await ah(t,l)}wT(t)&&RT(t)}function $C(s){return Kr(s)&&s.Ta.length<10}function JC(s,t){s.Ta.push(t);const i=Js(s);i.O_()&&i.X_&&i.ea(t.mutations)}function wT(s){return Kr(s)&&!Js(s).x_()&&s.Ta.length>0}function RT(s){Js(s).start()}async function ZC(s){Js(s).ra()}async function WC(s){const t=Js(s);for(const i of s.Ta)t.ea(i.mutations)}async function tN(s,t,i){const a=s.Ta.shift(),l=jm.from(a,t,i);await bT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function eN(s,t){t&&Js(s).X_&&await(async function(a,l){if((function(d){return UI(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Js(a).B_(),await bT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),wT(s)&&RT(s)}async function s0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(qr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await Jl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function nN(s,t){const i=At(s);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Jl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new jC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:QC.bind(null,s),t_:KC.bind(null,s),r_:YC.bind(null,s),H_:XC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),$m(s)?Xm(s):s.Ra.set("Unknown")):(await s.ma.stop(),ST(s))}))),s.ma}function Js(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new BC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZC.bind(null,s),r_:eN.bind(null,s),ta:WC.bind(null,s),na:tN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Jm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(ts("AsyncQueue",`${t}: ${s}`),oo(s))return new at($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class r0{constructor(){this.ga=new ce(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class iN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class sN{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=a0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function a0(){return new Gr((s=>KE(s)),yh)}async function rN(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new iN,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function aN(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oN(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Wm(i)}function lN(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Wm(s){s.Ca.forEach((t=>{t.next()}))}var pm,o0;(o0=pm||(pm={})).Ma="default",o0.Cache="cache";class uN{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class IT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class cN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=YE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new r0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),H=_h(this.query,S)?S:null,Z=!!V&&this.mutatedKeys.has(V.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;V&&H?V.data.isEqual(H.data)?Z!==et&&(a.track({type:3,doc:H}),W=!0):this.su(V,H)||(a.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!V&&H?(a.track({type:0,doc:H}),W=!0):V&&!H&&(a.track({type:1,doc:V}),W=!0,(y||_)&&(p=!0)),W&&(H?(d=d.add(H),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(H,Z){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return et(H)-et(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new CT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new IT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class hN{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class fN{constructor(t){this.key=t,this.hu=!1}}class dN{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>KE(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ft.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mN(s,t,i=!0){const a=VT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await NT(a,t,i,!0),l}async function pN(s,t){const i=VT(s);await NT(i,t,!0,!1)}async function NT(s,t,i,a){const l=await OC(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await gN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&TT(s.remoteStore,l),p}async function gN(s,t,i,a,l){s.pu=(S,V,H)=>(async function(et,W,ut,dt){let ct=W.view.ru(ut);ct.Cs&&(ct=await Wv(et.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,ct))));const Et=dt&&dt.targetChanges.get(W.targetId),qt=dt&&dt.targetMismatches.get(W.targetId)!=null,St=W.view.applyChanges(ct,et.isPrimaryClient,Et,qt);return u0(et,W.targetId,St.au),St.snapshot})(s,S,V,H);const c=await Wv(s.localStore,t,!0),d=new cN(t,c.Qs),p=d.ru(c.documents),y=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);u0(s,i,_.au);const A=new hN(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function yN(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(ao)):(gm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function _N(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function vN(s,t,i){const a=RN(s);try{const l=await(function(d,p){const y=At(d),_=se.now(),A=p.reduce(((H,Z)=>H.add(Z.key)),kt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=es(),et=kt();return y.Ns.getEntries(H,A).next((W=>{Z=W,Z.forEach(((ut,dt)=>{dt.isValidDocument()||(et=et.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next((W=>{S=W;const ut=[];for(const dt of p){const ct=xI(dt,S.get(dt.key).overlayedDocument);ct!=null&&ut.push(new Qr(dt.key,ct,zE(ct.value.mapValue),wi.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,ut,p)})).next((W=>{V=W;const ut=W.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(H,W.batchId,ut)}))})).then((()=>({batchId:V.batchId,changes:$E(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Vt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Zl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function DT(s,t){const i=At(s);try{const a=await NC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await ao(a)}}function l0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Wm(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function EN(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(ft.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const p=kt().add(c),y=new Th(vt.min(),new Map,new ce(Vt),d,p);await DT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await dm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(ao)}async function TN(s,t){const i=At(s),a=t.batch.batchId;try{const l=await CC(i.localStore,t);OT(i,a,null),xT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await ao(l)}}async function AN(s,t,i){const a=At(s);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Gt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);OT(a,t,i),xT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await ao(l)}}function xT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function OT(s,t,i){const a=At(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function gm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||MT(s,a)}))}function MT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Km(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ep(s))}function u0(s,t,i){for(const a of i)a instanceof IT?(s.Ru.addReference(a.key,t),SN(s,a)):a instanceof CT?(rt(tp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||MT(s,a.key)):yt(19791,{wu:a})}function SN(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(rt(tp,"New document in limbo: "+i),s.Eu.add(a),ep(s))}function ep(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(ee.fromString(t)),a=s.fu.next();s.Au.set(a,new fN(i)),s.du=s.du.insert(i,a),TT(s.remoteStore,new Bs(bi(Lm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Gm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(V=>J.forEach(V.Es,(H=>A.persistence.referenceDelegate.addReference(S,V.targetId,H))).next((()=>J.forEach(V.ds,(H=>A.persistence.referenceDelegate.removeReference(S,V.targetId,H)))))))))}catch(S){if(!oo(S))throw S;rt(Qm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const H=A.Ms.get(V),Z=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(V,et)}}})(a.localStore,c))}async function bN(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(tp,"User change. New user:",t.toKey());const a=await yT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new at($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ls)}}function wN(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function VT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EN.bind(null,t),t.Pu.H_=oN.bind(null,t.eventManager),t.Pu.yu=lN.bind(null,t.eventManager),t}function RN(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return IC(this.persistence,new bC,t.initialUser,this.serializer)}Cu(t){return new gT(Fm.mi,this.serializer)}Du(t){return new VC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class IN extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new gT((a=>rh.mi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>l0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sN})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=(function(c){return new zC(c)})(t.databaseInfo);return(function(c,d,p,y){return new HC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new GC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>l0(this.syncEngine,i,0)),(function(){return n0.v()?new n0:new kC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new dN(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(qr,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class CN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zs="FirestoreClient";class NN{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(Zs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Zs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(Zs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await yT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function c0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await DN(s);rt(Zs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>s0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>s0(t.remoteStore,l))),s._onlineComponents=t}async function DN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Zs,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new oh)}}else rt(Zs,"Using default OfflineComponentProvider"),await qd(s,new IN(void 0));return s._offlineComponents}async function kT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Zs,"Using user provided OnlineComponentProvider"),await c0(s,s._uninitializedComponentsProvider._online)):(rt(Zs,"Using default OnlineComponentProvider"),await c0(s,new ym))),s._onlineComponents}function xN(s){return kT(s).then((t=>t.syncEngine))}async function h0(s){const t=await kT(s),i=t.eventManager;return i.onListen=mN.bind(null,t.syncEngine),i.onUnlisten=yN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=pN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=_N.bind(null,t.syncEngine),i}function UT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const f0=new Map;const LT="firestore.googleapis.com",d0=!0;class m0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=d0}else this.host=t.host,this.ssl=t.ssl??d0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oC)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new VR;switch(a.type){case"firstParty":return new PR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=f0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),f0.delete(i),a.terminate())})(this),Promise.resolve()}}function ON(s,t,i,a={}){s=Qa(s,wh);const l=no(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(O0(`https://${p}`),M0("Firestore",!0)),c.host!==LT&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Lr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=$e.MOCK_USER;else{_=FS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}s._authCredentials=new kR(new IE(_,A))}}class uo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,Me._jsonSchema))return new Me(t,a||null,new ft(ee.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ne("string",Me._jsonSchemaVersion),referencePath:Ne("string")};class Qs extends uo{constructor(t,i,a){super(t,i,Lm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new ft(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function p0(s,t,...i){if(s=We(s),CE("collection","path",t),s instanceof wh){const a=ee.fromString(t,...i);return Rv(a),new Qs(s,null,a)}{if(!(s instanceof Me||s instanceof Qs))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return Rv(a),new Qs(s.firestore,null,a)}}function PT(s,t,...i){if(s=We(s),arguments.length===1&&(t=xm.newId()),CE("doc","path",t),s instanceof wh){const a=ee.fromString(t,...i);return wv(a),new Me(s,null,new ft(a))}{if(!(s instanceof Me||s instanceof Qs))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return wv(a),new Me(s.firestore,s instanceof Qs?s.converter:null,new ft(a))}}const g0="AsyncQueue";class y0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vT(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&rt(g0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt(g0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",_0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:_0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function _0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function v0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class jl extends wh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new y0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y0(t),this._firestoreClient=void 0,await t}}}function MN(s,t){const i=typeof s=="object"?s:L0(),a=typeof s=="string"?s:Wc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=qS("firestore");c&&ON(l,...c)}return l}function zT(s){if(s._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||VN(s),s._firestoreClient}function VN(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new eI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,UT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new NN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ne("string",Un._jsonSchemaVersion),bytes:Ne("string")};class np{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ip{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ne("string",Ii._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ci(t.vectorValues);throw new at($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ne("string",Ci._jsonSchemaVersion),vectorValues:Ne("object")};const kN=/^__.*__$/;class UN{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}function jT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class sp{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&kN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}Cc(t,i,a,l=!1){return new sp({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BT(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new LN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function PN(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);FT("Data must be an object, but it was:",d,a);const p=qT(a,d);let y,_;if(c.merge)y=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=jN(t,S,i);if(!d.contains(V))throw new at($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);qN(A,V)||A.push(V)}y=new $n(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new UN(new kn(p),y,_)}class rp extends ip{_toFieldTransform(t){return new II(t.path,new Ll)}isEqual(t){return t instanceof rp}}function zN(s,t,i,a=!1){return ap(i,s.Cc(a?4:3,t))}function ap(s,t){if(HT(s=We(s)))return FT("Unsupported field value:",t,s),qT(s,t);if(s instanceof ip)return(function(a,l){if(!jT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=ap(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=We(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:sh(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:lT(l.serializer,a._byteString)};if(a instanceof Me){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,p){return{mapValue:{fields:{[LE]:{stringValue:PE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Pm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(s,t)}function qT(s,t){const i={};return xE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(s,((a,l)=>{const c=ap(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ii||s instanceof Un||s instanceof Me||s instanceof ip||s instanceof Ci)}function FT(s,t,i){if(!HT(i)||!NE(i)){const a=dh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function jN(s,t,i){if((t=We(t))instanceof np)return t._internalPath;if(typeof t=="string")return GT(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BN=new RegExp("[~\\*/\\[\\]]");function GT(s,t,i){if(t.search(BN)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new np(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new at($.INVALID_ARGUMENT,p+s+y)}function qN(s,t){return s.some((i=>i.isEqual(t)))}class QT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(KT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HN extends QT{data(){return super.data()}}function KT(s,t){return typeof t=="string"?GT(s,t):t instanceof np?t._internalPath:t._delegate._internalPath}function FN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class GN extends op{}function QN(s,t,...i){let a=[];t instanceof op&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof up)).length,p=c.filter((y=>y instanceof lp)).length;if(d>1||d>0&&p>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class lp extends GN{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new lp(t,i,a)}_apply(t){const i=this._parse(t);return YT(t._query,i),new uo(t.firestore,t.converter,om(t._query,i))}_parse(t){const i=BT(t.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){T0(S,A);const Z=[];for(const et of S)Z.push(E0(y,c,et));V={arrayValue:{values:Z}}}else V=E0(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||T0(S,A),V=zN(p,d,S,A==="in"||A==="not-in");return Ce.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class up extends op{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new up(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)YT(d,y),d=om(d,y)})(t._query,i),new uo(t.firestore,t.converter,om(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function E0(s,t,i){if(typeof(i=We(i))=="string"){if(i==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(t)&&i.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!ft.isDocumentKey(a))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vv(s,new ft(a))}if(i instanceof Me)return Vv(s,i._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function T0(s,t){if(!Array.isArray(s)||s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class KN{convertValue(t,i="none"){switch($s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ci(i)}convertGeoPoint(t){return new Ii(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Gt(mT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function YN(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kr extends QT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(KT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Ne("string",kr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Hc extends kr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:XN(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ne("string",Ya._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class XT extends KN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function $N(s){return $T(Qa(s.firestore,jl),[new zm(s._key,wi.none())])}function JN(s,t){const i=Qa(s.firestore,jl),a=PT(s),l=YN(s.converter,t);return $T(i,[PN(BT(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,wi.exists(!1))]).then((()=>a))}function ZN(s,...t){s=We(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||v0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Me)d=Qa(s.firestore,jl),p=Lm(s._key.path),c={next:y=>{t[a]&&t[a](WN(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Qa(s,uo);d=Qa(y.firestore,jl),p=y._query;const _=new XT(d);c={next:A=>{t[a]&&t[a](new Ya(d,_,y,A))},error:t[a+1],complete:t[a+2]},FN(s._query)}return(function(_,A,S,V){const H=new CN(V),Z=new uN(A,H,S);return _.asyncQueue.enqueueAndForget((async()=>rN(await h0(_),Z))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>aN(await h0(_),Z)))}})(zT(d),p,l,c)}function $T(s,t){return(function(a,l){const c=new Vr;return a.asyncQueue.enqueueAndForget((async()=>vN(await xN(a),l,c))),c.promise})(zT(s),t)}function WN(s,t,i){const a=i.docs.get(t._key),l=new XT(s);return new kr(s,l,t._key,a,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function tD(){return new rp("serverTimestamp")}(function(t,i=!0){(function(l){ro=l})(io),Xa(new Pr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new jl(new UR(a.getProvider("auth-internal")),new zR(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fs(Tv,Av,t),Fs(Tv,Av,"esm2020")})();const eD={apiKey:"AIzaSyDgR78eCa155Jy62H4gXkHqndNDOZcOopE",authDomain:"test-3ab01.firebaseapp.com",projectId:"test-3ab01",storageBucket:"test-3ab01.firebasestorage.app",messagingSenderId:"822221024280",appId:"1:822221024280:web:61328a4f3206ecbd36a76d",measurementId:"G-8TYDJE60KX"},nD=typeof window.__app_id<"u"?window.__app_id:"ni-reader-app",Hd=nD.replace(/\//g,"-"),JT=U0(eD),Fd=MN(JT),yl=OR(JT);console.log("Firebase Log: Debug mode enabled.");const ZT="AIzaSyDH2eCOG4IACULi3kR0LQxOiTTqIOS1MiI";function iD({data:s,fullContext:t}){return s?M.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[M.jsxs("div",{className:"border-l-4 border-current pl-5 py-2 bg-white/50 rounded-r-xl",children:[M.jsx("h4",{className:"font-bold text-lg tracking-tight opacity-90",children:s.topic}),M.jsx("p",{className:"text-base opacity-80 mt-2 leading-relaxed font-medium",children:s.core_logic}),M.jsx("div",{className:"mt-3",children:M.jsx(Ur,{contextLabel:`${s.topic}`,contextContent:s.core_logic,fullContext:t,colorTheme:"indigo"})})]}),s.key_insights&&s.key_insights.length>0&&M.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.key_insights.map((i,a)=>M.jsxs("div",{className:"bg-white/60 p-5 rounded-xl border border-current/10 hover:bg-white/80 transition-colors",children:[M.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[M.jsx(w0,{size:18,className:"mt-1 shrink-0 opacity-80"}),M.jsxs("div",{children:[M.jsx("h5",{className:"font-bold text-base opacity-90 mb-2",children:i.title}),M.jsx("p",{className:"text-base opacity-80 leading-relaxed",children:i.text})]})]}),M.jsx("div",{className:"pl-8 mt-2",children:M.jsx(Ur,{contextLabel:`${i.title}`,contextContent:`${i.title}: ${i.text}`,fullContext:t,colorTheme:"indigo"})})]},a))}),s.flow_steps&&s.flow_steps.length>0&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-5 border border-current/10",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-bold opacity-60 uppercase tracking-wider",children:[M.jsx(Gd,{size:16})," "]}),M.jsx("div",{className:"space-y-6",children:s.flow_steps.map((i,a)=>M.jsxs("div",{className:"relative flex gap-4 group",children:[a!==s.flow_steps.length-1&&M.jsx("div",{className:"absolute left-[11px] top-8 bottom-0 w-px bg-current/20 -z-10"}),M.jsx("div",{className:"shrink-0 w-6 h-6 rounded-full bg-white border-2 border-current/30 flex items-center justify-center text-xs font-bold shadow-sm mt-1 group-hover:scale-110 transition-transform",children:a+1}),M.jsxs("div",{className:"flex-1 bg-white p-4 rounded-xl border border-black/5 shadow-sm hover:shadow-md transition-all",children:[M.jsx("div",{className:"font-bold text-base text-slate-900",children:i.label}),M.jsx("div",{className:"text-sm text-slate-600 mt-2 leading-relaxed",children:i.detail}),M.jsx("div",{className:"mt-3 pt-2 border-t border-slate-100",children:M.jsx(Ur,{contextLabel:` ${a+1}: ${i.label}`,contextContent:`${i.label}: ${i.detail}`,fullContext:t,colorTheme:"slate"})})]})]},a))})]})]}):null}function Ur({contextLabel:s,contextContent:t,fullContext:i,colorTheme:a="indigo",onNodeCollapse:l}){const[c,d]=Bt.useState(null),[p,y]=Bt.useState(!1),[_,A]=Bt.useState(null),[S,V]=Bt.useState(null),[H,Z]=Bt.useState(!1),[et,W]=Bt.useState(""),[ut,dt]=Bt.useState(""),ct={indigo:{btn:"hover:bg-indigo-100 text-indigo-600",wrapper:"bg-indigo-50 border-indigo-200 text-indigo-900"},rose:{btn:"hover:bg-rose-100 text-rose-600",wrapper:"bg-rose-50 border-rose-200 text-rose-900"},amber:{btn:"hover:bg-amber-100 text-amber-600",wrapper:"bg-amber-50 border-amber-200 text-amber-900"},slate:{btn:"hover:bg-slate-200 text-slate-600",wrapper:"bg-slate-100 border-slate-300 text-slate-800"},white:{btn:"hover:bg-white/20 text-white",wrapper:"bg-slate-800 border-slate-600 text-slate-100"}},Et=ct[a]||ct.indigo,qt=async(w,O)=>{if(!(!t||!O.trim())){y(!0),Z(!0),A(null),V(w==="why"?"why":"custom"),dt(w==="custom"?O:"");try{const N=`
        Ni 
         JSON 
         Markdown  LaTeX 
        Ni 
         JSON 
        {
          "topic": "",
          "core_logic": "",
          "flow_steps": [ { "label": "1", "detail": "" } ],
          "key_insights": [ { "title": "", "text": "..." } ]
        }
        ${t} (${s})
        ${O}
      `,U=`
${i}

${O}`,ue=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${ZT}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:U}]}],systemInstruction:{parts:[{text:N}]},generationConfig:{responseMimeType:"application/json"}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text,F=JSON.parse(ue.replace(/```json/g,"").replace(/```/g,"").trim());A(F)}catch(N){console.error(N),A({topic:"",core_logic:"",flow_steps:[],key_insights:[]})}finally{y(!1)}}},St=w=>{w.stopPropagation(),_&&S==="why"?(Z(!H),d(H?null:"why")):(d("why"),qt("why",`${t}`))},C=w=>{w.stopPropagation(),_&&S==="custom"?(Z(!H),d(H?null:"ask")):c==="ask"&&!_?(d(null),Z(!1)):(d("ask"),Z(!0))},b=w=>{w.stopPropagation(),Z(!1),d(null),setTimeout(()=>{l&&l()},100)};return M.jsxs("div",{className:"flex flex-col items-start no-print w-full",onClick:w=>w.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsxs("button",{onClick:St,className:`p-1.5 rounded transition-colors ${Et.btn} ${c==="why"||S==="why"&&H?"bg-opacity-20 ring-1 ring-current":"bg-transparent"}`,children:[M.jsx(ZA,{size:14})," "]}),M.jsx("button",{onClick:C,className:`p-1.5 rounded transition-colors ${Et.btn} ${c==="ask"||S==="custom"&&H?"bg-opacity-20 ring-1 ring-current":"bg-transparent"}`,children:M.jsx(hS,{size:14})})]}),c==="ask"&&!p&&(!_||S!=="custom")&&H&&M.jsxs("div",{className:"mt-2 w-full flex items-center gap-2 animate-in fade-in",children:[M.jsx("input",{type:"text",value:et,onChange:w=>W(w.target.value),onKeyDown:w=>w.key==="Enter"&&et.trim()&&qt("custom",et),placeholder:" ()...",className:"flex-1 text-sm p-2 rounded border border-slate-300 focus:ring-2 focus:ring-indigo-100 outline-none text-slate-800",autoFocus:!0,onClick:w=>w.stopPropagation()}),M.jsx("button",{onClick:()=>qt("custom",et),className:"p-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:M.jsx(vS,{size:14})})]}),p&&M.jsx("div",{className:"mt-2 text-xs text-slate-400 animate-pulse",children:"..."}),_&&H&&M.jsxs("div",{className:`mt-3 w-full text-sm p-5 rounded-xl relative group animate-in fade-in border shadow-inner ${Et.wrapper}`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-current/10 pb-2",children:[M.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider opacity-70",children:[M.jsx(TS,{size:12})," AI  (Follow-Up)"]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("button",{onClick:b,className:"flex items-center gap-1 px-2 py-1 hover:bg-black/5 rounded transition-all text-xs font-medium opacity-70 hover:opacity-100",children:M.jsx(B_,{size:12})}),M.jsx("div",{className:"w-px h-3 bg-current opacity-20"}),M.jsx("button",{onClick:w=>{w.stopPropagation(),A(null),V(null),Z(!1),d(null)},className:"p-1.5 hover:bg-red-500/20 hover:text-red-600 rounded transition-all opacity-70 hover:opacity-100",children:M.jsx(b0,{size:12})})]})]}),S==="custom"&&ut&&M.jsxs("div",{className:"bg-white/80 border border-slate-200 p-3 rounded-lg mb-4 text-sm text-slate-800 italic",children:[M.jsx("span",{className:"font-bold text-indigo-600 not-italic",children:":"})," ",ut]}),M.jsx(iD,{data:_,fullContext:i}),M.jsx("div",{className:"flex justify-end mt-4 pt-3 border-t border-current/10",children:M.jsxs("button",{onClick:b,className:`flex items-center gap-1 px-3 py-1.5 rounded-full transition-all text-xs font-medium opacity-80 hover:opacity-100 border border-current/20 ${Et.btn}`,children:[M.jsx(B_,{size:12})," "]})})]})]})}const WT=({node:s,depth:t=0,index:i,fullText:a,onExpand:l})=>{const[c,d]=Bt.useState(!1),[p,y]=Bt.useState(!1),[_,A]=Bt.useState(s.children||[]),[S,V]=Bt.useState(!1),H=Bt.useRef(null),Z=async ct=>{if(ct.stopPropagation(),c){d(!1);return}if(d(!0),_.length===0&&!S){y(!0);try{const Et=await l(s);A(Et||[]),V(!0)}catch(Et){console.error(Et)}finally{y(!1)}}},et=_.length>0||s.can_expand&&!S,W=t===0,ut=!W&&M.jsx("div",{className:"absolute top-0 bottom-0 -left-4 w-px bg-slate-200 border-l border-dashed border-slate-300"}),dt=!W&&M.jsx("div",{className:"absolute top-6 -left-4 w-4 h-px bg-slate-300"});return M.jsxs("div",{className:`relative ${W?"":"ml-8"} mb-4`,children:[ut,dt,M.jsx("div",{ref:H,className:`relative rounded-xl border transition-all duration-300 cursor-default ${W?"bg-white border-indigo-200 shadow-md":"bg-white border-slate-200 shadow-sm hover:shadow-md hover:border-indigo-300"}`,children:M.jsx("div",{className:"p-4",children:M.jsxs("div",{className:"flex items-start gap-3",children:[et?M.jsx("button",{onClick:Z,className:"shrink-0 mt-0.5 w-5 h-5 flex items-center justify-center rounded hover:bg-slate-100 transition-colors text-indigo-600 cursor-pointer",children:p?M.jsx("div",{className:"w-3 h-3 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}):c?M.jsx(SS,{size:16}):M.jsx(wS,{size:16})}):M.jsx("div",{className:"shrink-0 mt-0.5 w-5 h-5 flex items-center justify-center rounded text-slate-300 cursor-default",title:"",children:M.jsx(nS,{size:16})}),M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[W&&i!==void 0&&M.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-indigo-100 text-indigo-700 text-xs font-bold shrink-0 border border-indigo-200",children:i}),M.jsx("h4",{className:`font-bold text-base ${W?"text-indigo-900":"text-slate-800"}`,children:s.label})]}),s.tag&&M.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded",children:s.tag})]}),M.jsx("p",{className:"text-sm text-slate-600 mt-1 leading-relaxed",children:s.insight}),s.context_clue&&M.jsxs("div",{className:"mt-2 text-xs text-slate-400 italic flex items-center gap-1",children:[M.jsx(S0,{size:10}),' : "',s.context_clue.substring(0,30),'..."']}),M.jsx("div",{className:"mt-3 border-t border-slate-100",children:M.jsx(Ur,{contextLabel:s.label,contextContent:s.insight,fullContext:a,colorTheme:W?"indigo":"slate",onNodeCollapse:()=>H.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})})]})]})})}),c&&M.jsxs("div",{className:"relative animate-in fade-in slide-in-from-top-2 duration-300",children:[M.jsx("div",{className:"absolute top-0 bottom-0 left-4 w-px bg-slate-200"}),_.length>0?M.jsx("div",{className:"pt-4",children:_.map((ct,Et)=>M.jsx(WT,{node:ct,depth:t+1,fullText:a,onExpand:l},ct.id||Et))}):!p&&M.jsx("div",{className:"ml-12 mt-2 text-xs text-slate-400 italic",children:""})]})]})};function sD(){const[s,t]=Bt.useState(""),[i,a]=Bt.useState(!1),[l,c]=Bt.useState(null),[d,p]=Bt.useState(""),[y,_]=Bt.useState(!0),[A,S]=Bt.useState("input"),[V,H]=Bt.useState([]),[Z,et]=Bt.useState(yl.currentUser),[W,ut]=Bt.useState(""),[dt,ct]=Bt.useState(""),[Et,qt]=Bt.useState(""),[St,C]=Bt.useState(!1);Bt.useEffect(()=>{const Q=E2(yl,it=>{et(it),it?console.log("Firebase Log: User logged in. UID:",it.uid):console.log("Firebase Log: User logged out.")});return()=>Q()},[]),Bt.useEffect(()=>{const Q=Z?.uid;if(!Q){H([]);return}const it=`artifacts/${Hd}/users/${Q}/ni_analysis_history`,_t=QN(p0(Fd,it)),Ct=ZN(_t,D=>{try{const K=[];D.forEach(st=>{const mt=st.data();K.push({id:st.id,...mt,timestamp:mt.timestamp?mt.timestamp.toMillis():Date.now()})});const nt=K.sort((st,mt)=>mt.timestamp-st.timestamp);H(nt),console.log(`Firebase Log: Fetched ${K.length} history items.`)}catch(K){console.error("Error reading history snapshot:",K)}});return()=>Ct()},[Z]);const b=async Q=>{if(ut(""),!dt||!Et){ut("");return}try{Q?(await g2(yl,dt,Et),console.log("User registered successfully.")):(await y2(yl,dt,Et),console.log("User signed in successfully.")),S("input")}catch(it){ut(`: ${it.message.replace("Firebase: Error (auth/","").replace(").","")}`)}},w=async()=>{try{await T2(yl),c(null),t(""),H([])}catch(Q){console.error("Sign out error:",Q)}},O=async(Q,it)=>{const _t=Z?.uid;if(!_t){console.error("Cannot save: User not authenticated.");return}const Ct=`artifacts/${Hd}/users/${_t}/ni_analysis_history`;try{await JN(p0(Fd,Ct),{textSnippet:Q.substring(0,60)+(Q.length>60?"...":""),fullText:Q,data:it,timestamp:tD()}),console.log("Firebase Log: Analysis saved successfully.")}catch(D){console.error("Error adding document: ",D)}},N=async(Q,it)=>{it.stopPropagation();const _t=Z?.uid;if(!_t)return;const Ct=`artifacts/${Hd}/users/${_t}/ni_analysis_history/${Q}`;try{await $N(PT(Fd,Ct)),console.log(`Firebase Log: Document ${Q} deleted.`)}catch(D){console.error("Error deleting document: ",D)}},U=Q=>{t(Q.fullText),c(Q.data),window.innerWidth<768&&_(!1)},R=async Q=>{const Ct=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${ZT}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Q}]}],generationConfig:{responseMimeType:"application/json"}})})).json()).candidates?.[0]?.content?.parts?.[0]?.text;try{return JSON.parse(Ct.replace(/```json/g,"").replace(/```/g,"").trim())}catch{throw console.error("Failed to parse AI JSON response:",Ct),new Error("AI response format error.")}},Wt=async()=>{if(s.trim()){if(!Z){p("");return}a(!0),c(null),p(""),window.innerWidth<768&&_(!1);try{const Q=`
         (Ni) 
        
        **** ${s}
        ** (JSON)**
        1. **roots**: essence, problem, crux
        2. **main_chain**: : id, label, insight, context_clue, can_expand(boolean), children(array)
        **JSON **
        {
          "roots": { "essence": "...", "problem": "...", "crux": "..." },
          "main_chain": [
             { "id": "1", "label": "...", "insight": "...", "context_clue": "...", "can_expand": true, "children": [] },
             ...
          ]
        }
      `,it=await R(Q);c(it),O(s,it)}catch(Q){p(""+Q.message)}finally{a(!1)}}},ue=async Q=>{const it=`
      ${Q.label}
      ${s}
      ${Q.label} (${Q.context_clue})
      
      JSON: [{"id": "...", "label": "...", "insight": "...", "context_clue": "...", "can_expand": true}]
    `;try{const _t=await R(it);return Array.isArray(_t)?_t:[]}catch{return[]}},F=()=>{document.body.classList.add("printing-mode"),window.print(),setTimeout(()=>document.body.classList.remove("printing-mode"),500)};return M.jsxs("div",{className:"h-screen w-full bg-slate-50 text-slate-800 font-sans flex flex-col overflow-hidden",children:[M.jsx("style",{children:`
        @media print {
          body > * { display: none !important; }
          body.printing-mode .print-container {
             display: block !important;
             position: absolute; top: 0; left: 0; width: 100%;
             background: white; padding: 20px;
          }
          .no-print { display: none !important; }
        }
      `}),M.jsxs("header",{className:"bg-white border-b border-slate-200 h-14 shrink-0 flex items-center justify-between px-4 shadow-sm z-30 no-print",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"p-1.5 bg-indigo-600 rounded text-white",children:M.jsx(XA,{size:18})}),M.jsx("h1",{className:"font-bold text-slate-900",children:"Ni "})]}),M.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[M.jsx(xS,{size:14,className:"text-indigo-500"}),Z?M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{children:Z.email||""}),M.jsx("button",{onClick:w,className:"text-slate-600 hover:text-red-500 p-1 rounded transition-colors",title:"",children:M.jsx(uS,{size:16})})]}):M.jsx("span",{className:"text-rose-500",children:""}),M.jsx("button",{onClick:F,className:"p-2 hover:bg-slate-100 rounded text-slate-600",title:"",children:M.jsx(yS,{size:18})}),!y&&M.jsx("button",{onClick:()=>_(!0),className:"p-2 hover:bg-slate-100 rounded text-slate-600",children:M.jsx(pS,{size:18})})]})]}),M.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[M.jsxs("div",{className:`bg-white border-r border-slate-200 flex flex-col z-20 transition-all duration-300 ease-in-out shadow-xl absolute md:relative h-full no-print ${y?"w-full md:w-[400px] translate-x-0":"w-0 -translate-x-full opacity-0 md:w-0"}`,children:[M.jsxs("div",{className:"flex border-b border-slate-100",children:[M.jsxs("button",{onClick:()=>S("input"),className:`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${A==="input"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-slate-500 hover:bg-slate-50"}`,children:[M.jsx(S0,{size:14})," "]}),M.jsxs("button",{onClick:()=>S("history"),className:`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${A==="history"?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50/50":"text-slate-500 hover:bg-slate-50"}`,children:[M.jsx(aS,{size:14})," "]}),M.jsx("button",{onClick:()=>_(!1),className:"px-3 text-slate-400 hover:text-slate-600",children:M.jsx(dS,{size:16})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto",children:A==="input"?M.jsx("div",{className:"p-4 flex flex-col h-full",children:Z?M.jsxs("div",{className:"flex-1 flex flex-col",children:[M.jsx("textarea",{className:"flex-1 w-full p-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-100 outline-none resize-none text-sm bg-slate-50 font-serif leading-relaxed",placeholder:"...",value:s,onChange:Q=>t(Q.target.value)}),M.jsx("button",{onClick:Wt,disabled:i||!s.trim(),className:`mt-4 w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-sm ${i?"bg-slate-100 text-slate-400":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:i?"...":M.jsxs(M.Fragment,{children:[M.jsx(Gd,{size:16})," "]})}),d&&M.jsx("div",{className:"mt-2 text-xs text-red-500",children:d})]}):M.jsxs("div",{className:"flex flex-col gap-4 p-6 bg-slate-50 rounded-xl border border-slate-200 shadow-inner my-auto",children:[M.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 justify-center",children:[St?M.jsx(NS,{size:20}):M.jsx(q_,{size:20}),St?"":""]}),M.jsx("input",{type:"email",placeholder:" (Email)",value:dt,onChange:Q=>ct(Q.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-indigo-300 focus:border-indigo-500 outline-none text-sm"}),M.jsx("input",{type:"password",placeholder:" (Password)",value:Et,onChange:Q=>qt(Q.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-indigo-300 focus:border-indigo-500 outline-none text-sm"}),W&&M.jsx("div",{className:"text-xs text-red-500 bg-red-100 p-2 rounded",children:W}),M.jsx("button",{onClick:()=>b(St),className:"w-full py-3 rounded-xl font-bold text-sm text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:St?"":""}),M.jsx("button",{onClick:()=>{C(!St),ut("")},className:"w-full text-xs text-indigo-500 hover:text-indigo-700 transition-colors mt-1",children:St?"":""})]})}):M.jsx("div",{className:"p-4 space-y-3",children:Z?V.length===0?M.jsx("div",{className:"text-center text-slate-400 py-10 text-sm",children:""}):V.map(Q=>M.jsxs("div",{onClick:()=>U(Q),className:"group p-3 rounded-xl border border-slate-100 bg-white shadow-sm hover:border-indigo-200 hover:shadow-md cursor-pointer transition-all",children:[M.jsxs("div",{className:"flex justify-between items-start mb-1",children:[M.jsxs("div",{className:"text-[10px] text-slate-400 flex items-center gap-1",children:[M.jsx(tS,{size:10})," ",new Date(Q.timestamp).toLocaleString()]}),M.jsx("button",{onClick:it=>N(Q.id,it),className:"text-slate-300 hover:text-red-500 p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:M.jsx(b0,{size:12})})]}),M.jsx("div",{className:"text-sm font-bold text-slate-700 line-clamp-2 font-serif",children:Q.textSnippet}),Q.data?.roots?.essence&&M.jsxs("div",{className:"mt-2 text-[10px] text-indigo-600 bg-indigo-50 px-2 py-1 rounded inline-block",children:[Q.data.roots.essence.substring(0,20),"..."]})]},Q.id)):M.jsxs("div",{className:"text-center text-rose-500 py-10 text-sm flex flex-col items-center",children:[M.jsx(q_,{size:18,className:"mb-2"}),""]})})})]}),M.jsx("div",{className:"flex-1 bg-slate-100/50 overflow-y-auto relative w-full print-container",children:M.jsxs("div",{className:"w-full mx-auto p-4 md:p-8 min-h-full",children:[!l&&!i&&M.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center text-slate-300 gap-4 select-none no-print",children:[M.jsx(Gd,{size:48,className:"opacity-20"}),M.jsx("p",{className:"text-sm",children:"..."})]}),i&&M.jsxs("div",{className:"h-[60vh] flex flex-col items-center justify-center gap-4 no-print",children:[M.jsx("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),M.jsx("p",{className:"text-indigo-600 font-bold animate-pulse",children:"..."})]}),l&&M.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700 space-y-10 pb-20",children:[M.jsxs("section",{className:"relative",children:[M.jsx("div",{className:"absolute left-6 top-10 bottom-0 w-1 bg-indigo-100 rounded-full -z-10"}),M.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold uppercase tracking-widest text-xs",children:[M.jsx(H_,{size:14}),"  (The Roots)"]}),M.jsxs("div",{className:"space-y-4 pl-0",children:[M.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-violet-700 text-white p-5 rounded-xl shadow-lg shadow-indigo-200 relative z-10",children:[M.jsxs("div",{className:"text-[10px] font-bold opacity-70 uppercase mb-1 flex items-center gap-1",children:[M.jsx(w0,{size:12})," "]}),M.jsx("div",{className:"text-lg font-bold",children:l.roots.essence}),M.jsx("div",{className:"mt-2",children:M.jsx(Ur,{contextLabel:"",contextContent:l.roots.essence,fullContext:s,colorTheme:"white"})})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.jsxs("div",{className:"bg-white border border-slate-200 p-5 rounded-xl shadow-sm relative z-10",children:[M.jsxs("div",{className:"text-[10px] font-bold text-rose-500 uppercase mb-1 flex items-center gap-1",children:[M.jsx(QA,{size:12})," "]}),M.jsx("div",{className:"text-sm font-medium text-slate-800",children:l.roots.problem}),M.jsx("div",{className:"mt-2",children:M.jsx(Ur,{contextLabel:"",contextContent:l.roots.problem,fullContext:s,colorTheme:"rose"})})]}),M.jsxs("div",{className:"bg-white border border-slate-200 p-5 rounded-xl shadow-sm relative z-10",children:[M.jsxs("div",{className:"text-[10px] font-bold text-amber-500 uppercase mb-1 flex items-center gap-1",children:[M.jsx(H_,{size:12})," "]}),M.jsx("div",{className:"text-sm font-medium text-slate-800",children:l.roots.crux}),M.jsx("div",{className:"mt-2",children:M.jsx(Ur,{contextLabel:"",contextContent:l.roots.crux,fullContext:s,colorTheme:"amber"})})]})]})]})]}),M.jsxs("section",{children:[M.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-400 font-bold uppercase tracking-widest text-xs",children:[M.jsx(sS,{size:14}),"  (Reasoning Chain)"]}),M.jsxs("div",{className:"relative pl-2",children:[M.jsx("div",{className:"absolute -top-10 left-6 h-10 w-1 bg-indigo-100 -z-10"}),l.main_chain.map((Q,it)=>M.jsx(WT,{node:Q,index:it+1,fullText:s,onExpand:ue},Q.id||it))]})]})]})]})})]})]})}zA.createRoot(document.getElementById("root")).render(M.jsx(Bt.StrictMode,{children:M.jsx(sD,{})}));
